Searchdoc={};Searchdoc.Navigation=new function(){this.initNavigation=function(){var a=this;$(document).keydown(function(b){a.onkeydown(b)}).keyup(function(b){a.onkeyup(b)});this.navigationActive=true};this.setNavigationActive=function(a){this.navigationActive=a;this.clearMoveTimeout()};this.onkeyup=function(a){if(!this.navigationActive){return}switch(a.keyCode){case 37:case 38:case 39:case 40:case 73:case 74:case 75:case 76:case 67:case 72:case 84:case 78:this.clearMoveTimeout();break}};this.onkeydown=function(a){if(!this.navigationActive){return}switch(a.keyCode){case 37:case 74:case 72:if(this.moveLeft()){a.preventDefault()}break;case 38:case 73:case 67:if(a.keyCode==38||a.ctrlKey){if(this.moveUp()){a.preventDefault()}this.startMoveTimeout(false)}break;case 39:case 76:case 78:if(this.moveRight()){a.preventDefault()}break;case 40:case 75:case 84:if(a.keyCode==40||a.ctrlKey){if(this.moveDown()){a.preventDefault()}this.startMoveTimeout(true)}break;case 9:case 13:if(this.$current){this.select(this.$current)}break}if(a.ctrlKey&&a.shiftKey){this.select(this.$current)}};this.clearMoveTimeout=function(){clearTimeout(this.moveTimeout);this.moveTimeout=null};this.startMoveTimeout=function(a){if(!$.browser.mozilla&&!$.browser.opera){return}if(this.moveTimeout){this.clearMoveTimeout()}var c=this;var b=function(){if(!c.moveTimeout){return}c[a?"moveDown":"moveUp"]();c.moveTimout=setTimeout(b,100)};this.moveTimeout=setTimeout(b,200)};this.moveRight=function(){};this.moveLeft=function(){};this.move=function(a){};this.moveUp=function(){return this.move(false)};this.moveDown=function(){return this.move(true)}};function scrollIntoView(e,c){var f,b,d,a;f=e.offsetTop;a=e.offsetHeight;b=c.offsetHeight;d=c.scrollTop;if(f-d+a>b){c.scrollTop=f-b+a}if(f<d){c.scrollTop=f}}Searchdoc.Searcher=function(a){this.data=a;this.handlers=[]};Searchdoc.Searcher.prototype=new function(){var h=1000,k=100,j=1,m=1,i=0;this.find=function(v){var s=e(v),r=d(s),t=l(s),u={from:0,pass:0,limit:k,n:m++},x=this;this.currentSuid=u.n;if(!v){return}var w=function(){if(u.n!=x.currentSuid){return}var y=o(x.data,r,s,t,u),z=(u.limit>0&&u.pass<3);n.call(x,y,!z);if(z){setTimeout(w,2)}i++};i=0;w()};this.ready=function(r){r.huid=j;this.handlers.push(r)};function e(r){return jQuery.grep(r.split(/(\s+|\(\)?)/),function(s){return s.match(/\S/)})}function d(r){return jQuery.map(r,function(s){return new RegExp(s.replace(/(.)/g,"([$1])([^$1]*?)"),"i")})}function l(r){return jQuery.map(r,function(s){return jQuery.map(s.split(""),function(t,u){return"\u0001$"+(u*2+1)+"\u0002$"+(u*2+2)}).join("")})}function a(u,w,t,s){if(u.indexOf(t[0])!=0){return false}for(var v=1,r=s.length;v<r;v++){if(!u.match(s[v])&&!w.match(s[v])){return false}}return true}function q(u,w,t,s){if(u.indexOf(t[0])==-1){return false}for(var v=1,r=s.length;v<r;v++){if(!u.match(s[v])&&!w.match(s[v])){return false}}return true}function p(u,w,t,s){if(!u.match(s[0])){return false}for(var v=1,r=s.length;v<r;v++){if(!u.match(s[v])&&!w.match(s[v])){return false}}return true}function c(x,u,t,w){var r=g(x);for(var v=0,s=t.length;v<s;v++){r.title=r.title.replace(t[v],w[v]);if(v>0){r.namespace=r.namespace.replace(t[v],w[v])}}return r}function b(r,t,s){return r.substring(0,t)+"\u0001"+r.substring(t,t+s)+"\u0002"+r.substring(t+s)}function f(r,v,w,y){var z=g(r),x=0,t=z.title.toLowerCase();x=t.indexOf(v[0]);if(x!=-1){z.title=b(z.title,x,v[0].length)}for(var u=1,s=w.length;u<s;u++){z.title=z.title.replace(w[u],y[u]);z.namespace=z.namespace.replace(w[u],y[u])}return z}function g(s){var r={};r.title=s[0];r.namespace=s[1];r.path=s[2];r.params=s[3];r.snippet=s[4];r.badge=s[6];return r}function o(x,A,y,D,s){var C=x.searchIndex,B=x.longSearchIndex,u=x.info,E=[],w=s.from,v=C.length,t=h,z,r;while(s.pass<3&&s.limit>0&&t>0){if(s.pass==0){z=a;r=f}else{if(s.pass==1){z=q;r=f}else{if(s.pass==2){z=p;r=c}}}for(;t>0&&w<v&&s.limit>0;w++,t--){if(u[w].n==s.n){continue}if(z(C[w],B[w],y,A)){u[w].n=s.n;E.push(r(u[w],y,A,D));s.limit--}}if(C.length<=w){s.pass++;w=s.from=0}else{s.from=w}}return E}function n(r,s){jQuery.each(this.handlers,function(t,u){u.call(this,r,s)})}};Searchdoc.Panel=function(b,c,a,d){this.$element=$(b);this.$input=$("input",b).eq(0);this.$result=$(".result ul",b).eq(0);this.frame=d;this.$current=null;this.$view=this.$result.parent();this.data=c;this.searcher=new Searchdoc.Searcher(c.index);this.tree=new Searchdoc.Tree($(".tree",b),a,this);this.init()};Searchdoc.Panel.prototype=$.extend({},Searchdoc.Navigation,new function(){var a=1;this.init=function(){var f=this;var e=function(){f.search(f.$input[0].value)};this.$input.keyup(e);this.$input.click(e);this.searcher.ready(function(g,h){f.addResults(g,h)});this.$result.click(function(g){f.$current.removeClass("current");f.$current=$(g.target).closest("li").addClass("current");f.select();f.$input.focus()});this.initNavigation();this.setNavigationActive(false)};this.search=function(e,f){e=jQuery.trim(e).toLowerCase();this.selectFirstMatch=f;if(e){this.$element.removeClass("panel_tree").addClass("panel_results");this.tree.setNavigationActive(false);this.setNavigationActive(true)}else{this.$element.addClass("panel_tree").removeClass("panel_results");this.tree.setNavigationActive(true);this.setNavigationActive(false)}if(e!=this.lastQuery){this.lastQuery=e;this.firstRun=true;this.searcher.find(e)}};this.addResults=function(g,h){var j=this.$result.get(0);if(this.firstRun&&(g.length>0||h)){this.$current=null;this.$result.empty()}for(var f=0,e=g.length;f<e;f++){j.appendChild(c.call(this,g[f]))}if(this.firstRun&&g.length>0){this.firstRun=false;this.$current=$(j.firstChild);this.$current.addClass("current");if(this.selectFirstMatch){this.select()}scrollIntoView(this.$current[0],this.$view[0])}if(jQuery.browser.msie){this.$element[0].className+=""}};this.open=function(e){this.frame.location.href=e;if(this.frame.highlight){this.frame.highlight(e)}};this.select=function(){this.open(this.$current.data("path"))};this.move=function(e){if(!this.$current){return}var f=this.$current[e?"next":"prev"]();if(f.length){this.$current.removeClass("current");f.addClass("current");scrollIntoView(f[0],this.$view[0]);this.$current=f}return true};function c(f){var e=document.createElement("li"),h="",g=f.badge;h+="<h1>"+b(f.title);if(f.params){h+="<i>"+f.params+"</i>"}h+="</h1>";h+="<p>";if(typeof g!="undefined"){h+='<span class="badge badge_'+(g%6+1)+'">'+d(this.data.badges[g]||"unknown")+"</span>"}h+=b(f.namespace)+"</p>";if(f.snippet){h+='<p class="snippet">'+d(f.snippet)+"</p>"}e.innerHTML=h;jQuery.data(e,"path",f.path);return e}function b(e){return d(e).replace(/\u0001/g,"<b>").replace(/\u0002/g,"</b>")}function d(e){return e.replace(/[&<>]/g,function(f){return"&#"+f.charCodeAt(0)+";"})}});Searchdoc.Tree=function(c,a,b){this.$element=$(c);this.$list=$("ul",c);this.tree=a;this.panel=b;this.init()};Searchdoc.Tree.prototype=$.extend({},Searchdoc.Navigation,new function(){this.init=function(){var g=document.createElement("li");g.className="stopper";this.$list[0].appendChild(g);for(var f=0,e=this.tree.length;f<e;f++){b.call(this,this.tree[f],0,g)}var h=this;this.$list.click(function(j){var i=$(j.target),k=i.closest("li");if(i.hasClass("icon")){h.toggle(k)}else{h.select(k)}});this.initNavigation();if(jQuery.browser.msie){document.body.className+=""}};this.select=function(f){this.highlight(f);var e=f[0].searchdoc_tree_data.path;if(e){this.panel.open(e)}};this.highlight=function(e){if(this.$current){this.$current.removeClass("current")}this.$current=e.addClass("current")};this.toggle=function(j){var f=!j.hasClass("closed"),h=j[0].searchdoc_tree_data.children;j.toggleClass("closed");for(var g=0,e=h.length;g<e;g++){d.call(this,$(h[g].li),!f)}};this.moveRight=function(){if(!this.$current){this.highlight(this.$list.find("li:first"));return}if(this.$current.hasClass("closed")){this.toggle(this.$current)}};this.moveLeft=function(){if(!this.$current){this.highlight(this.$list.find("li:first"));return}if(!this.$current.hasClass("closed")){this.toggle(this.$current)}else{var f=this.$current[0].searchdoc_tree_data.level;if(f==0){return}var e=this.$current.prevAll("li.level_"+(f-1)+":visible:first");this.$current.removeClass("current");e.addClass("current");scrollIntoView(e[0],this.$element[0]);this.$current=e}};this.move=function(e){if(!this.$current){this.highlight(this.$list.find("li:first"));return true}var f=this.$current[0];if(e){do{f=f.nextSibling;if(f&&f.style&&f.style.display!="none"){break}}while(f)}else{do{f=f.previousSibling;if(f&&f.style&&f.style.display!="none"){break}}while(f)}if(f&&f.className.indexOf("stopper")==-1){this.$current.removeClass("current");$(f).addClass("current");scrollIntoView(f,this.$element[0]);this.$current=$(f)}return true};function d(k,f){var g=k.hasClass("closed"),j=k[0].searchdoc_tree_data.children;k.css("display",f?"":"none");if(!f&&this.$current&&k[0]==this.$current[0]){this.$current.removeClass("current");this.$current=null}for(var h=0,e=j.length;h<e;h++){d.call(this,$(j[h].li),f&&!g)}}function b(h,m,k){var e=a(h,m),j=this.$list[0];h.li=e;j.insertBefore(e,k);for(var g=0,f=h[3].length;g<f;g++){b.call(this,h[3][g],m+1,k)}return e}function a(k,m){var e=document.createElement("li"),h=document.createElement("div"),g=document.createElement("h1"),l=document.createElement("p"),j,f;e.appendChild(h);e.style.paddingLeft=c(m);h.className="content";if(!k[1]){e.className="empty "}h.appendChild(g);g.appendChild(document.createTextNode(k[0]));if(k[2]){f=document.createElement("i");f.appendChild(document.createTextNode(k[2]));g.appendChild(f)}if(k[3].length>0){j=document.createElement("div");j.className="icon";h.appendChild(j)}e.searchdoc_tree_data={path:k[1],children:k[3],level:m};e.style.display=m==0?"":"none";e.className+="level_"+m+" closed";return e}function c(e){return 5+18*e+"px"}});