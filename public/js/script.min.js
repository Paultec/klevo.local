$(function(){var m=$(".horizontal-nav a");m.hover(function(){$(this).css({color:"#563D7C"}).children().css({color:"#428BCA"})},function(){$(this).css({color:"#428BCA"}).children().css({color:"#563D7C"})});var x=["glyphicon-picture","glyphicon-pencil","glyphicon-comment","glyphicon-shopping-cart","glyphicon-earphone"];var q=$(".nav:first").find("li").find("a");q.each(function(E){$(this).append(' <span class="glyphicon '+x[E]+'"><span>')});$(".items").mosaic({animation:"slide"});$(".accordion").each(function(){$(this).accordion({header:$(this).children("h3"),active:false,collapsible:true,heightStyle:"content"})});$(".accordion:first").attr("id","first");var A=$("#auth_btn");A.attr("disabled",true);var i=/^[\w\.=-]+@[\w\.-]+\.[\w]{2,6}$/i,h=/^[a-zA-z]{1}[a-zA-Z1-9]{7,20}$/i;var p=false,j=false;var D=$("#identity"),g=$("#credential");D.on("keyup",function(){var E=$(this).val();p=i.test(E);if(p){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}B()});g.on("keyup",function(){var E=$(this).val();j=h.test(E);if(j){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}B()});function B(){if(p==true&&j==true){A.attr("disabled",false)}else{A.attr("disabled",true)}}var z=$(".register_form");z.find("label").eq(0).attr("for","email").next().attr({id:"email",type:"email",placeholder:"Введите Email"});z.find("label").eq(1).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});z.find("label").eq(2).attr("for","passwordVerify").next().attr({id:"passwordVerify",placeholder:"Повторите Пароль"});var u=z.find("button");u.attr("disabled",true);var t=false,C=false;var c=$("#password");var l=$("#passwordVerify");$("#email").on("keyup",function(){var E=$(this).val();t=i.test(E);if(t){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}e()});c.on("keyup",function(){var E=$(this).val();C=h.test(E);if(C){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}e()});l.on("keyup",function(){if(C&&c.val()==l.val()){$(this).css("border","1px solid green");c.css("border","1px solid green")}else{$(this).css("border","1px solid red");c.css("border","1px solid red")}e()});function e(){if(t==true&&C==true&&c.val()==l.val()){u.attr("disabled",false)}else{u.attr("disabled",true)}}$("form").find("ul").addClass("list-unstyled").find("li").css({color:"#cc0000",background:"#FFDD7A"}).prepend('<span class="glyphicon glyphicon glyphicon-ban-circle"></span> ');$(".logout").on("click",function(){confirm("Вы действительно хотите выйти из системы?")});$('[data-toggle="tooltip"]').tooltip({animation:true});$(".back").on("click",function(){history.back()});$(".warning").on("click",function(){return confirm("Вы действительно хотите удалить этот элемент, это может привести к нарушению целостности системы! Удалить?")});var n=$('[name="parent_state"]').val(),k=$(".category_select").find("option"),w=$(".name_input").val();k.each(function(E){if(n==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}if(w==$(this).text()){$(this).attr("disabled",true)}});$(".hide_row").addClass("text-muted").find("a").css("opacity",0.4).end().find(".show-hide").html('<span class="glyphicon glyphicon glyphicon-eye-open"></span> Показать');var d=$(".form_wrap").find('[type="file"]').val(""),v=$(".excel-file-button").attr("disabled",true);d.on("change",function(){if($(this).val().indexOf(".xls")>0||$(this).val().indexOf(".xlsx")>0){b()}else{v.attr("disabled",true)}});function b(){v.attr("disabled",false)}var a=window.location.search,s=$(".brand-link"),o=$(".catalog-link");if(a.indexOf("brand")!=-1){o.each(function(G){var J=a.slice(1,a.length)+"&";var E=$(this).attr("href");var I=E.slice(0,E.indexOf("?")+1);var F=E.slice(E.indexOf("?")+1,E.length);var H=I+J+F;$(this).attr("href",H)})}if(a.indexOf("catalog")!=-1){s.each(function(E){$(this).attr("href",($(this).attr("href")+"&"+a.slice(1,a.length)))})}if(a.indexOf("brand")>0&&a.indexOf("catalog")>0){s.each(function(G){var E=$(this).attr("href");var H=E.slice(0,E.indexOf("&"));var F=E.slice(E.lastIndexOf("&"),E.length);$(this).attr("href",H+F)});o.each(function(){var E=$(this).attr("href");var G=E.slice(0,E.indexOf("&"));var F=E.slice(E.lastIndexOf("&"),E.length);$(this).attr("href",G+F)})}var y=$(".link-type").data("type");if(y!=""&&y!==undefined){s.each(function(G){var E=$(this).attr("href");var F=E.slice(E.lastIndexOf("/"),E.length);$(this).attr("href","/"+y+F)});o.each(function(){var E=$(this).attr("href");var F=E.slice(E.lastIndexOf("/"),E.length);$(this).attr("href","/"+y+F)})}var r=$(".first-page");r.on("click",function(H){var E=window.location.href;if(a.indexOf("brand")>0||a.indexOf("catalog")>0){var G=E.slice(0,E.lastIndexOf("/")+1);var F=E.slice(E.indexOf("?"),E.length);window.location=G+"1"+F;H.preventDefault()}});var f=$(".breadcrumb");f.find("a").on("click",function(G){var E=window.location.href;var F=E.slice(0,E.lastIndexOf("/")+1);window.location=F+$(this).attr("href");G.preventDefault()});$(".product-list").on("click",function(E){window.location="/product";E.preventDefault()});if(a.indexOf("brand")==-1&&a.indexOf("catalog")==-1){f.css("visibility","hidden")}if($("#productList-table").length>0){f.css("visibility","visible")}else{$("#redirect-form").css("display","none")}$(".number").attr({type:"number",min:0,step:0.1});$("#product").find("label").wrap('<div class="form-group"></div>')});