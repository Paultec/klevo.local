$(function(){var g=window.localStorage.getItem("close");if(g===null){$("body").prepend('<p id="dummy" class="text-center" style="background-color: #cc0000; color: #ffff00; font-weight: bold; padding: 5px 0;  position: relative">Сайт в разработке, спасибо за понимание. <span class="glyphicon glyphicon-remove" style="cursor: pointer; position: absolute; top: 8px; right: 10px"></span></p>')}$("#dummy").find("span").on("click",function(){$("#dummy").slideUp();window.localStorage.setItem("close","yes")});var af=$(".horizontal-nav a");af.hover(function(){$(this).css({color:"#563D7C"}).children().css({color:"#428BCA"})},function(){$(this).css({color:"#428BCA"}).children().css({color:"#563D7C"})});var I=["glyphicon-picture","glyphicon-pencil","glyphicon-comment","glyphicon-shopping-cart","glyphicon-earphone"];var m=$(".nav:first").find("li").find("a");m.each(function(al){$(this).append(' <span class="glyphicon '+I[al]+'"><span>')});var q=$(".grub-data");q.appendTo($(".main-nav"));q.children().unwrap();var j=$(".nav li"),p=$(".logout");j.hover(function(){$("ul",this).slideDown()},function(){$("ul",this).slideUp()});$(".sub-nav li").hover(function(){p.css("background-color","#eee")},function(){p.css("background-color","transparent")});p.hover(function(){$(this).css("background-color","#eee")},function(){$(this).css("background-color","transparent")});$(".bottom-nav").find("li").find("a").removeClass("float-shadow");var s=$(".items");if(s.length>0){s.mosaic({animation:"slide"})}$(".accordion").each(function(){$(this).accordion({header:$(this).children("h3"),active:false,collapsible:true,heightStyle:"content"})});$(window).on("hashchange",function(al){var am=window.location.hash.replace(/^#\/?/,"");if(document.getElementById(am)){$.smoothScroll({scrollTarget:"#"+am})}});$(window).trigger("hashchange");var ac=$("#auth_btn");var f=/^[\w\.=-]+@[\w\.-]+\.[\w]{2,6}$/i,r=/^[a-zA-z]{1}[a-zA-Z1-9]{7,20}$/i;var v=false,D=false;var V=$("#identity"),ah=$("#credential");V.on("change",function(){var al=$(this).val();v=f.test(al);if(v){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});ah.on("change",function(){var al=$(this).val();D=r.test(al);if(D){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});var ak=$(".register_form");ak.find("label").eq(0).attr("for","email").next().attr({id:"email",type:"email",placeholder:"Введите Email"});ak.find("label").eq(1).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});ak.find("label").eq(2).attr("for","passwordVerify").next().attr({id:"passwordVerify",placeholder:"Повторите Пароль"});var aa=ak.find("button");aa.attr("disabled",true);var G=false,C=false;var H=$("#password"),Z=$("#passwordVerify");$("#email").on("keyup",function(){var al=$(this).val();G=f.test(al);if(G){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}E()});H.on("keyup",function(){var al=$(this).val();C=r.test(al);if(C){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}E()});Z.on("keyup",function(){if(C&&H.val()==Z.val()){$(this).css("border","1px solid green");H.css("border","1px solid green")}else{$(this).css("border","1px solid red");H.css("border","1px solid red")}E()});function E(){if(G==true&&C==true&&H.val()==Z.val()){aa.attr("disabled",false)}else{aa.attr("disabled",true)}}var P=$(".change_mail_form");P.find("label").eq(0).attr("for","newEmail").next().attr({id:"newEmail",type:"email",placeholder:"Введите Email"});P.find("label").eq(1).attr("for","emailVerify").next().attr({id:"emailVerify",type:"email",placeholder:"Повторите Email"});P.find("label").eq(2).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});var ag=$("#change_email");ag.attr("disabled",true);var k=false,L=false;var y=$("#newEmail"),n=$("#emailVerify");y.on("keyup",function(){var al=$(this).val();k=f.test(al);if(k){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}d()});n.on("keyup",function(){if(k&&y.val()==n.val()){$(this).css("border","1px solid green");y.css("border","1px solid green")}else{$(this).css("border","1px solid red");y.css("border","1px solid red")}d()});$("#password").on("keyup",function(){var al=$(this).val();L=r.test(al);if(L){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}d()});function d(){if(k==true&&L==true&&y.val()==n.val()){ag.attr("disabled",false)}else{ag.attr("disabled",true)}}var F=$(".change_pass_form");F.find("label").eq(0).attr("for","oldPass").next().attr({id:"oldPass",type:"password",placeholder:"Текущий пароль"});F.find("label").eq(1).attr("for","newPass").next().attr({id:"newPass",type:"password",placeholder:"Новый пароль"});F.find("label").eq(2).attr("for","passVerify").next().attr({id:"passVerify",placeholder:"Повторите пароль"});var e=$("#change_pass");e.attr("disabled",true);var b=false,h=false;var O=$("#newPass"),Q=$("#passVerify");O.on("keyup",function(){var al=$(this).val();b=r.test(al);if(b){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}Y()});Q.on("keyup",function(){if(b&&O.val()==Q.val()){$(this).css("border","1px solid green");O.css("border","1px solid green")}else{$(this).css("border","1px solid red");O.css("border","1px solid red")}Y()});$("#oldPass").on("keyup",function(){var al=$(this).val();h=r.test(al);if(h){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}Y()});function Y(){if(b==true&&h==true&&O.val()==Q.val()){e.attr("disabled",false)}else{e.attr("disabled",true)}}$("form").find("ul").addClass("list-unstyled").find("li").css({color:"#cc0000",background:"#FFDD7A"}).prepend('<span class="glyphicon glyphicon glyphicon-ban-circle"></span> ');p.on("click",function(){return confirm("Вы действительно хотите выйти из системы?")});$('[data-toggle="tooltip"]').tooltip({animation:true});$(".back").on("click",function(){history.back()});$(".warning").on("click",function(){return confirm("Вы действительно хотите удалить этот элемент, это может привести к нарушению целостности системы! Удалить?")});var aj=$('[name="parent_state"]').val(),x=$(".category_select").find("option"),a=$(".name_input").val();x.each(function(al){if(aj==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}if(a==$(this).text()){$(this).attr("disabled",true)}});var K=$('[name="brand_state"]').val(),A=$('[name="supplier_state"]').val(),u=$('[name="catalog_state"]').val(),T=$(".supplier_select").find("option"),X=$(".brand_select").find("option"),ai=x;X.each(function(){if(K==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});ai.each(function(){if(u==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});T.each(function(){if(A==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});$(".hide_row").addClass("text-muted").find("a").css("opacity",0.4).end().find(".show-hide").html('<span class="glyphicon glyphicon glyphicon-eye-open"></span> Показать');var M=$(".form_wrap").find('[type="file"]').val(""),ab=$(".excel-file-button").attr("disabled",true);M.on("change",function(){if($(this).val().indexOf(".xls")>0||$(this).val().indexOf(".xlsx")>0){z()}else{ab.attr("disabled",true)}});function z(){ab.attr("disabled",false)}var ae=$(".img-file-button").attr("disabled",true);M.on("change",function(){if($(this).val().indexOf(".png")>0||$(this).val().indexOf(".jpeg")>0||$(this).val().indexOf(".jpg")>0){t()}else{ae.attr("disabled",true)}});function t(){ae.attr("disabled",false)}var l=window.location.search,U=$(".brand-link"),B=$(".catalog-link");if(l.indexOf("brand")!=-1){B.each(function(an){var aq=l.slice(1,l.length)+"&";var al=$(this).attr("href");var ap=al.slice(0,al.indexOf("?")+1);var am=al.slice(al.indexOf("?")+1,al.length);var ao=ap+aq+am;$(this).attr("href",ao)})}if(l.indexOf("catalog")!=-1){U.each(function(al){$(this).attr("href",($(this).attr("href")+"&"+l.slice(1,l.length)))})}if(l.indexOf("brand")>0&&l.indexOf("catalog")>0){U.each(function(an){var al=$(this).attr("href");var ao=al.slice(0,al.indexOf("&"));var am=al.slice(al.lastIndexOf("&"),al.length);$(this).attr("href",ao+am)});B.each(function(){var al=$(this).attr("href");var an=al.slice(0,al.indexOf("&"));var am=al.slice(al.lastIndexOf("&"),al.length);$(this).attr("href",an+am)})}var S=$(".link-type").data("type");if(S!=""&&S!==undefined){U.each(function(an){var al=$(this).attr("href");var am=al.slice(al.lastIndexOf("/"),al.length);$(this).attr("href","/"+S+am)});B.each(function(){var al=$(this).attr("href");var am=al.slice(al.lastIndexOf("/"),al.length);$(this).attr("href","/"+S+am)})}var c=$(".first-page");c.on("click",function(ao){var al=window.location.href;if(l.indexOf("brand")>0||l.indexOf("catalog")>0){var an=al.slice(0,al.lastIndexOf("/")+1);var am=al.slice(al.indexOf("?"),al.length);window.location=an+"1"+am;ao.preventDefault()}});var W=$(".first-search-page");W.on("click",function(ao){var al=window.location.href;if(l.indexOf("q")>0){var an=al.slice(0,al.lastIndexOf("?")-1);var am=al.slice(al.indexOf("?"),al.length);window.location=an+am}ao.preventDefault()});if(l.indexOf("q")>0){var w=window.location.href;var ad=w.slice(w.indexOf("=")+1,w.length);var N=decodeURIComponent(ad).replace(/\+/g," ");$(".search-input").val(N)}var i=$(".breadcrumb");i.find("a").on("click",function(an){var al=window.location.href;var am=al.slice(0,al.lastIndexOf("/")+1);window.location=am+$(this).attr("href");an.preventDefault()});$(".product-list").on("click",function(al){window.location="/product";al.preventDefault()});if(l.indexOf("brand")==-1&&l.indexOf("catalog")==-1){i.css("visibility","hidden")}if($("#productList-table").length>0){i.css("visibility","visible")}$(".number").attr({type:"number",min:0,step:0.01});var R=$("#product");R.find("label").wrap('<div class="form-group"></div>');var o=$("#back-to-top");$(window).scroll(function(){if($(this).scrollTop()>350){o.fadeIn()}else{o.fadeOut()}});o.on("click",function(){$("#back-to-top").tooltip("hide");$("body, html").animate({scrollTop:0},800);return false});o.tooltip("show");$(".product-price").each(function(){var al=$(this).text().split(".");var an=!isNaN(al[0])?parseInt(al[0]):"",am=!isNaN(al[1])?parseInt(al[1]):"";if(an&&am){$(this).text(an+" грн. "+am+" коп.")}else{if(an){$(this).text(an+"  грн.")}else{if(am){$(this).text(am+" коп.")}else{$(this).text("")}}}});var J=$("img.lazy");if(J.length>0){J.lazyload({effect:"fadeIn"})}R.on("submit",function(){var al=R.find("textarea");if(al.val()==""){al.val("empty")}})});