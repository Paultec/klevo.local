$(function(){var n=$(".horizontal-nav a");n.hover(function(){$(this).css({color:"#563D7C"}).children().css({color:"#428BCA"})},function(){$(this).css({color:"#428BCA"}).children().css({color:"#563D7C"})});var z=["glyphicon-picture","glyphicon-pencil","glyphicon-comment","glyphicon-shopping-cart","glyphicon-earphone"];var r=$(".nav:first").find("li").find("a");r.each(function(G){$(this).append(' <span class="glyphicon '+z[G]+'"><span>')});$(".items").mosaic({animation:"slide"});$(".accordion").each(function(){$(this).accordion({header:$(this).children("h3"),active:false,collapsible:true,heightStyle:"content"})});$(".accordion:first").attr("id","first");var C=$("#auth_btn");C.attr("disabled",true);var j=/^[\w\.=-]+@[\w\.-]+\.[\w]{2,6}$/i,i=/^[a-zA-z]{1}[a-zA-Z1-9]{7,20}$/i;var q=false,k=false;var F=$("#identity"),h=$("#credential");F.on("keyup",function(){var G=$(this).val();q=j.test(G);if(q){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}D()});h.on("keyup",function(){var G=$(this).val();k=i.test(G);if(k){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}D()});function D(){if(q==true&&k==true){C.attr("disabled",false)}else{C.attr("disabled",true)}}var B=$(".register_form");B.find("label").eq(0).attr("for","email").next().attr({id:"email",type:"email",placeholder:"Введите Email"});B.find("label").eq(1).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});B.find("label").eq(2).attr("for","passwordVerify").next().attr({id:"passwordVerify",placeholder:"Повторите Пароль"});var v=B.find("button");v.attr("disabled",true);var u=false,E=false;var c=$("#password");var m=$("#passwordVerify");$("#email").on("keyup",function(){var G=$(this).val();u=j.test(G);if(u){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}e()});c.on("keyup",function(){var G=$(this).val();E=i.test(G);if(E){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}e()});m.on("keyup",function(){if(E&&c.val()==m.val()){$(this).css("border","1px solid green");c.css("border","1px solid green")}else{$(this).css("border","1px solid red");c.css("border","1px solid red")}e()});function e(){if(u==true&&E==true&&c.val()==m.val()){v.attr("disabled",false)}else{v.attr("disabled",true)}}$("form").find("ul").addClass("list-unstyled").find("li").css({color:"#cc0000",background:"#FFDD7A"}).prepend('<span class="glyphicon glyphicon glyphicon-ban-circle"></span> ');$(".logout").on("click",function(){confirm("Вы действительно хотите выйти из системы?")});$('[data-toggle="tooltip"]').tooltip({animation:true});$(".back").on("click",function(){history.back()});$(".warning").on("click",function(){return confirm("Вы действительно хотите удалить этот элемент, это может привести к нарушению целостности системы! Удалить?")});var o=$('[name="parent_state"]').val(),l=$(".category_select").find("option"),y=$(".name_input").val();l.each(function(G){if(o==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}if(y==$(this).text()){$(this).attr("disabled",true)}});$(".hide_row").addClass("text-muted").find("a").css("opacity",0.4).end().find(".show-hide").html('<span class="glyphicon glyphicon glyphicon-eye-open"></span> Показать');var d=$(".form_wrap").find('[type="file"]').val(""),w=$(".excel-file-button").attr("disabled",true);d.on("change",function(){if($(this).val().indexOf(".xls")>0||$(this).val().indexOf(".xlsx")>0){b()}else{w.attr("disabled",true)}});function b(){w.attr("disabled",false)}var g=$(".product");var x=0;g.each(function(G){var H=$(this).height();if(H>x){x=H}});g.height(x);var a=window.location.search,t=$(".brand-link"),p=$(".catalog-link");if(a.indexOf("brand")!=-1){p.each(function(I){var L=a.slice(1,a.length)+"&";var G=$(this).attr("href");var K=G.slice(0,G.indexOf("?")+1);var H=G.slice(G.indexOf("?")+1,G.length);var J=K+L+H;$(this).attr("href",J)})}if(a.indexOf("catalog")!=-1){t.each(function(G){$(this).attr("href",($(this).attr("href")+"&"+a.slice(1,a.length)))})}if(a.indexOf("brand")>0&&a.indexOf("catalog")>0){t.each(function(I){var G=$(this).attr("href");var J=G.slice(0,G.indexOf("&"));var H=G.slice(G.lastIndexOf("&"),G.length);$(this).attr("href",J+H)});p.each(function(){var G=$(this).attr("href");var I=G.slice(0,G.indexOf("&"));var H=G.slice(G.lastIndexOf("&"),G.length);$(this).attr("href",I+H)})}var A=$(".link-type").data("type");if(A!=""&&A!==undefined){t.each(function(I){var G=$(this).attr("href");var H=G.slice(G.lastIndexOf("/"),G.length);$(this).attr("href","/"+A+H)});p.each(function(){var G=$(this).attr("href");var H=G.slice(G.lastIndexOf("/"),G.length);$(this).attr("href","/"+A+H)})}var s=$(".first-page");s.on("click",function(J){var G=window.location.href;if(a.indexOf("brand")>0||a.indexOf("catalog")>0){var I=G.slice(0,G.lastIndexOf("/")+1);var H=G.slice(G.indexOf("?"),G.length);window.location=I+"1"+H;J.preventDefault()}});var f=$(".breadcrumb");f.find("a").on("click",function(I){var G=window.location.href;var H=G.slice(0,G.lastIndexOf("/")+1);window.location=H+$(this).attr("href");I.preventDefault()});$(".product-list").on("click",function(G){window.location="/product";G.preventDefault()});if(a.indexOf("brand")==-1&&a.indexOf("catalog")==-1){f.css("visibility","hidden")}if($("#productList-table").length>0){f.css("visibility","visible")}});