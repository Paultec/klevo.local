$(function(){var f=window.localStorage.getItem("close");if(f===null){$("body").prepend('<p id="dummy" class="text-center" style="background-color: #cc0000; color: #ffff00; font-weight: bold; padding: 5px 0;  position: relative">Сайт в разработке, спасибо за понимание. <span class="glyphicon glyphicon-remove" style="cursor: pointer; position: absolute; top: 8px; right: 10px"></span></p>')}$("#dummy").find("span").on("click",function(){$("#dummy").slideUp();window.localStorage.setItem("close","yes")});var Y=$(".horizontal-nav");Y.find("a").hover(function(){$(this).css({color:"#563D7C"}).children().css({color:"#428BCA"})},function(){$(this).css({color:"#428BCA"}).children().css({color:"#563D7C"})});var D=["glyphicon-home","glyphicon-picture","glyphicon-pencil","glyphicon-comment","glyphicon-shopping-cart","glyphicon-earphone"];var j=$(".nav:first").find("li").find("a");j.each(function(ae){$(this).append(' <i class="glyphicon '+D[ae]+'"></i>')});Y.find("li.active").addClass("outline-outward");var m=$(".grub-data");m.appendTo($(".main-nav"));m.children().unwrap();$("ul.nav").find("li.dropdown").hover(function(){$(".dropdown-menu",this).fadeIn()},function(){$(".dropdown-menu",this).fadeOut()});$(".bottom-nav").find("li").find("a").removeClass("float-shadow");var o=$(".items");if(o.length>0){o.mosaic({animation:"slide"})}$(".accordion").each(function(){$(this).accordion({header:$(this).children("h3"),active:false,collapsible:true,heightStyle:"content"})});$(window).on("hashchange",function(ae){var af=window.location.hash.replace(/^#\/?/,"");if(document.getElementById(af)){$.smoothScroll({scrollTarget:"#"+af})}});$(window).trigger("hashchange");var V=$("#auth_btn");var e=/^[\w\.=-]+@[\w\.-]+\.[\w]{2,6}$/i,n=/^[a-zA-z]{1}[a-zA-Z1-9]{7,20}$/i;var r=false,y=false;var P=$("#identity"),aa=$("#credential");P.on("change",function(){var ae=$(this).val();r=e.test(ae);if(r){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});aa.on("change",function(){var ae=$(this).val();y=n.test(ae);if(y){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});var ac=$(".register_form");ac.find("label").eq(0).attr("for","email").next().attr({id:"email",type:"email",placeholder:"Введите Email"});ac.find("label").eq(1).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});ac.find("label").eq(2).attr("for","passwordVerify").next().attr({id:"passwordVerify",placeholder:"Повторите Пароль"});var T=ac.find("button");T.attr("disabled",true);var B=false,x=false;var C=$("#password"),S=$("#passwordVerify");$("#email").on("keyup",function(){var ae=$(this).val();B=e.test(ae);if(B){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}z()});C.on("keyup",function(){var ae=$(this).val();x=n.test(ae);if(x){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}z()});S.on("keyup",function(){if(x&&C.val()==S.val()){$(this).css("border","1px solid green");C.css("border","1px solid green")}else{$(this).css("border","1px solid red");C.css("border","1px solid red")}z()});function z(){if(B==true&&x==true&&C.val()==S.val()){T.attr("disabled",false)}else{T.attr("disabled",true)}}var K=$(".change_mail_form");K.find("label").eq(0).attr("for","newEmail").next().attr({id:"newEmail",type:"email",placeholder:"Введите Email"});K.find("label").eq(1).attr("for","emailVerify").next().attr({id:"emailVerify",type:"email",placeholder:"Повторите Email"});K.find("label").eq(2).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});var Z=$("#change_email");Z.attr("disabled",true);var i=false,G=false;var u=$("#newEmail"),k=$("#emailVerify");u.on("keyup",function(){var ae=$(this).val();i=e.test(ae);if(i){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}c()});k.on("keyup",function(){if(i&&u.val()==k.val()){$(this).css("border","1px solid green");u.css("border","1px solid green")}else{$(this).css("border","1px solid red");u.css("border","1px solid red")}c()});$("#password").on("keyup",function(){var ae=$(this).val();G=n.test(ae);if(G){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}c()});function c(){if(i==true&&G==true&&u.val()==k.val()){Z.attr("disabled",false)}else{Z.attr("disabled",true)}}var A=$(".change_pass_form");A.find("label").eq(0).attr("for","oldPass").next().attr({id:"oldPass",type:"password",placeholder:"Текущий пароль"});A.find("label").eq(1).attr("for","newPass").next().attr({id:"newPass",type:"password",placeholder:"Новый пароль"});A.find("label").eq(2).attr("for","passVerify").next().attr({id:"passVerify",placeholder:"Повторите пароль"});var d=$("#change_pass");d.attr("disabled",true);var b=false,g=false;var J=$("#newPass"),L=$("#passVerify");J.on("keyup",function(){var ae=$(this).val();b=n.test(ae);if(b){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}R()});L.on("keyup",function(){if(b&&J.val()==L.val()){$(this).css("border","1px solid green");J.css("border","1px solid green")}else{$(this).css("border","1px solid red");J.css("border","1px solid red")}R()});$("#oldPass").on("keyup",function(){var ae=$(this).val();g=n.test(ae);if(g){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}R()});function R(){if(b==true&&g==true&&J.val()==L.val()){d.attr("disabled",false)}else{d.attr("disabled",true)}}$("form").find("ul").addClass("list-unstyled").find("li").css({color:"#cc0000",background:"#FFDD7A"}).prepend('<span class="glyphicon glyphicon glyphicon-ban-circle"></span> ');$(".logout").on("click",function(){return confirm("Вы действительно хотите выйти из системы?")});$('[data-toggle="tooltip"]').tooltip({animation:true});$(".back").on("click",function(){history.back()});$(".warning").on("click",function(){return confirm("Вы действительно хотите удалить этот элемент, это может привести к нарушению целостности системы! Удалить?")});var ad=$('[name="parent_state"]').val(),t=$(".category_select").find("option"),a=$(".name_input").val();t.each(function(ae){if(ad==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}if(a==$(this).text()){$(this).attr("disabled",true)}});var F=$('[name="brand_state"]').val(),w=$('[name="supplier_state"]').val(),q=$('[name="catalog_state"]').val(),O=$(".supplier_select").find("option"),Q=$(".brand_select").find("option"),ab=t;Q.each(function(){if(F==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});ab.each(function(){if(q==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});O.each(function(){if(w==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});$(".hide_row").addClass("text-muted").find("a").css("opacity",0.4).end().find(".show-hide").html('<span class="glyphicon glyphicon glyphicon-eye-open"></span> Показать');var H=$(".form_wrap").find('[type="file"]').val(""),U=$(".excel-file-button").attr("disabled",true);H.on("change",function(){if($(this).val().indexOf(".xls")>0||$(this).val().indexOf(".xlsx")>0){v()}else{U.attr("disabled",true)}});function v(){U.attr("disabled",false)}var X=$(".img-file-button").attr("disabled",true);H.on("change",function(){if($(this).val().indexOf(".png")>0||$(this).val().indexOf(".jpeg")>0||$(this).val().indexOf(".jpg")>0){p()}else{X.attr("disabled",true)}});function p(){X.attr("disabled",false)}var N=$(".link-type").data("type");if(N!=""&&N!==undefined){brand.each(function(ag){var ae=$(this).attr("href");var af=ae.slice(ae.lastIndexOf("/"),ae.length);$(this).attr("href","/"+N+af)});catalog.each(function(){var ae=$(this).attr("href");var af=ae.slice(ae.lastIndexOf("/"),ae.length);$(this).attr("href","/"+N+af)})}if(location.href.indexOf("q")>0){var s=window.location.href;var W=s.slice(s.indexOf("=")+1,s.length);var I=decodeURIComponent(W).replace(/\+/g," ");$(".search-input").val(I)}var h=$(".breadcrumb");h.find("a").on("click",function(ag){var ae=window.location.href;var af=ae.slice(0,ae.lastIndexOf("/")+1);window.location=af+$(this).attr("href");ag.preventDefault()});$(".product-list").on("click",function(ae){window.location="/product";ae.preventDefault()});$(".number").attr({type:"number",min:0,step:0.01});var M=$("#product");M.find("label").wrap('<div class="form-group"></div>');var l=$("#back-to-top");$(window).scroll(function(){if($(this).scrollTop()>350){l.fadeIn()}else{l.fadeOut()}});l.on("click",function(){$("#back-to-top").tooltip("hide");$("body, html").animate({scrollTop:0},800);return false});l.tooltip("show");$(".product-price").each(function(){var ae=$(this).text().split(".");var ag=!isNaN(ae[0])?parseInt(ae[0]):"",af=!isNaN(ae[1])?parseInt(ae[1]):"";if(ag&&af){$(this).text(ag+" грн. "+af+" коп.")}else{if(ag){$(this).text(ag+"  грн.")}else{if(af){$(this).text(af+" коп.")}else{$(this).text("")}}}});var E=$("img.lazy");if(E.length>0){E.lazyload({effect:"fadeIn"})}M.on("submit",function(){var ae=M.find("textarea");if(ae.val()==""){ae.val("empty")}})});