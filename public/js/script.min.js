$(function(){var F=$(".horizontal-nav a");F.hover(function(){$(this).css({color:"#563D7C"}).children().css({color:"#428BCA"})},function(){$(this).css({color:"#428BCA"}).children().css({color:"#563D7C"})});var t=["glyphicon-picture","glyphicon-pencil","glyphicon-comment","glyphicon-shopping-cart","glyphicon-earphone"];var f=$(".nav:first").find("li").find("a");f.each(function(L){$(this).append(' <span class="glyphicon '+t[L]+'"><span>')});$(".items").mosaic({animation:"slide"});$(".accordion").each(function(){$(this).accordion({header:$(this).children("h3"),active:false,collapsible:true,heightStyle:"content"})});var E=$("#auth_btn");var c=/^[\w\.=-]+@[\w\.-]+\.[\w]{2,6}$/i,h=/^[a-zA-z]{1}[a-zA-Z1-9]{7,20}$/i;var k=false,p=false;var z=$("#identity"),H=$("#credential");z.on("change",function(){var L=$(this).val();k=c.test(L);if(k){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});H.on("change",function(){var L=$(this).val();p=h.test(L);if(p){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});var J=$(".register_form");J.find("label").eq(0).attr("for","email").next().attr({id:"email",type:"email",placeholder:"Введите Email"});J.find("label").eq(1).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});J.find("label").eq(2).attr("for","passwordVerify").next().attr({id:"passwordVerify",placeholder:"Повторите Пароль"});var C=J.find("button");C.attr("disabled",true);var r=false,n=false;var s=$("#password");var B=$("#passwordVerify");$("#email").on("keyup",function(){var L=$(this).val();r=c.test(L);if(r){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}q()});s.on("keyup",function(){var L=$(this).val();n=h.test(L);if(n){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}q()});B.on("keyup",function(){if(n&&s.val()==B.val()){$(this).css("border","1px solid green");s.css("border","1px solid green")}else{$(this).css("border","1px solid red");s.css("border","1px solid red")}q()});function q(){if(r==true&&n==true&&s.val()==B.val()){C.attr("disabled",false)}else{C.attr("disabled",true)}}$("form").find("ul").addClass("list-unstyled").find("li").css({color:"#cc0000",background:"#FFDD7A"}).prepend('<span class="glyphicon glyphicon glyphicon-ban-circle"></span> ');$(".logout").on("click",function(){return confirm("Вы действительно хотите выйти из системы?")});$('[data-toggle="tooltip"]').tooltip({animation:true});$(".back").on("click",function(){history.back()});$(".warning").on("click",function(){return confirm("Вы действительно хотите удалить этот элемент, это может привести к нарушению целостности системы! Удалить?")});var K=$('[name="parent_state"]').val(),l=$(".category_select").find("option"),a=$(".name_input").val();l.each(function(L){if(K==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}if(a==$(this).text()){$(this).attr("disabled",true)}});var u=$('[name="brand_state"]').val(),j=$('[name="catalog_state"]').val(),A=$(".brand_select").find("option"),I=l;A.each(function(){if(u==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});I.each(function(){if(j==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});$(".hide_row").addClass("text-muted").find("a").css("opacity",0.4).end().find(".show-hide").html('<span class="glyphicon glyphicon glyphicon-eye-open"></span> Показать');var v=$(".form_wrap").find('[type="file"]').val(""),D=$(".excel-file-button").attr("disabled",true);v.on("change",function(){if($(this).val().indexOf(".xls")>0||$(this).val().indexOf(".xlsx")>0){m()}else{D.attr("disabled",true)}});function m(){D.attr("disabled",false)}var G=$(".img-file-button").attr("disabled",true);v.on("change",function(){if($(this).val().indexOf(".png")>0||$(this).val().indexOf(".jpeg")>0||$(this).val().indexOf(".jpg")>0){i()}else{G.attr("disabled",true)}});function i(){G.attr("disabled",false)}var e=window.location.search,y=$(".brand-link"),o=$(".catalog-link");if(e.indexOf("brand")!=-1){o.each(function(N){var Q=e.slice(1,e.length)+"&";var L=$(this).attr("href");var P=L.slice(0,L.indexOf("?")+1);var M=L.slice(L.indexOf("?")+1,L.length);var O=P+Q+M;$(this).attr("href",O)})}if(e.indexOf("catalog")!=-1){y.each(function(L){$(this).attr("href",($(this).attr("href")+"&"+e.slice(1,e.length)))})}if(e.indexOf("brand")>0&&e.indexOf("catalog")>0){y.each(function(N){var L=$(this).attr("href");var O=L.slice(0,L.indexOf("&"));var M=L.slice(L.lastIndexOf("&"),L.length);$(this).attr("href",O+M)});o.each(function(){var L=$(this).attr("href");var N=L.slice(0,L.indexOf("&"));var M=L.slice(L.lastIndexOf("&"),L.length);$(this).attr("href",N+M)})}var x=$(".link-type").data("type");if(x!=""&&x!==undefined){y.each(function(N){var L=$(this).attr("href");var M=L.slice(L.lastIndexOf("/"),L.length);$(this).attr("href","/"+x+M)});o.each(function(){var L=$(this).attr("href");var M=L.slice(L.lastIndexOf("/"),L.length);$(this).attr("href","/"+x+M)})}var b=$(".first-page");b.on("click",function(O){var L=window.location.href;if(e.indexOf("brand")>0||e.indexOf("catalog")>0){var N=L.slice(0,L.lastIndexOf("/")+1);var M=L.slice(L.indexOf("?"),L.length);window.location=N+"1"+M;O.preventDefault()}});var d=$(".breadcrumb");d.find("a").on("click",function(N){var L=window.location.href;var M=L.slice(0,L.lastIndexOf("/")+1);window.location=M+$(this).attr("href");N.preventDefault()});$(".product-list").on("click",function(L){window.location="/product";L.preventDefault()});if(e.indexOf("brand")==-1&&e.indexOf("catalog")==-1){d.css("visibility","hidden")}if($("#productList-table").length>0){d.css("visibility","visible")}$(".number").attr({type:"number",min:0,step:0.01});var w=$("#product");w.find("label").wrap('<div class="form-group"></div>');var g=$("#back-to-top");$(window).scroll(function(){if($(this).scrollTop()>350){g.fadeIn()}else{g.fadeOut()}});g.on("click",function(){$("#back-to-top").tooltip("hide");$("body, html").animate({scrollTop:0},800);return false});g.tooltip("show");$(".product-price").each(function(){var L=$(this).text().split(".");var N=!isNaN(L[0])?parseInt(L[0]):"",M=!isNaN(L[1])?parseInt(L[1]):"";if(N&&M){$(this).text(N+" грн. "+M+" коп.")}else{if(N){$(this).text(N+"  грн.")}else{if(M){$(this).text(M+" коп.")}else{$(this).text("")}}}});$("img.lazy").lazyload({effect:"fadeIn"});w.on("submit",function(){var L=w.find("textarea");if(L.val()==""){L.val("empty")}})});