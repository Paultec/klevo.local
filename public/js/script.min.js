$(function(){var g=window.localStorage.getItem("close");if(g===null){$("body").prepend('<p id="dummy" class="text-center" style="background-color: #cc0000; color: #ffff00; font-weight: bold; padding: 5px 0;  position: relative">Сайт в разработке, спасибо за понимание. <span class="glyphicon glyphicon-remove" style="cursor: pointer; position: absolute; top: 8px; right: 10px"></span></p>')}$("#dummy").find("span").on("click",function(){$("#dummy").slideUp();window.localStorage.setItem("close","yes")});var ae=$(".horizontal-nav");ae.find("a").hover(function(){$(this).css({color:"#563D7C"}).children().css({color:"#428BCA"})},function(){$(this).css({color:"#428BCA"}).children().css({color:"#563D7C"})});var H=["glyphicon-home","glyphicon-picture","glyphicon-pencil","glyphicon-comment","glyphicon-shopping-cart","glyphicon-earphone"];var l=$(".nav:first").find("li").find("a");l.each(function(ak){$(this).append(' <i class="glyphicon '+H[ak]+'"></i>')});ae.find("li.active").addClass("outline-outward");var p=$(".grub-data");p.appendTo($(".main-nav"));p.children().unwrap();$("ul.nav").find("li.dropdown").hover(function(){$(".dropdown-menu",this).fadeIn()},function(){$(".dropdown-menu",this).fadeOut()});$(".bottom-nav").find("li").find("a").removeClass("float-shadow");var r=$(".items");if(r.length>0){r.mosaic({animation:"slide"})}$(".accordion").each(function(){$(this).accordion({header:$(this).children("h3"),active:false,collapsible:true,heightStyle:"content"})});(function(){$.expr[":"].contains=function(am,an,al){return(am.textContent||am.innerText||"").toUpperCase().indexOf(al[3].toUpperCase())>=0};function ak(ao,an){var am=$("<form>").attr({"class":"filter-form",action:"#"}),al=$("<input>").attr({"class":"filter-input form-control",type:"search",placeholder:"Фильтровать"});$(am).append(al).appendTo(ao);$(al).change(function(){var ap=$(this).val();if(ap){$matches=$(an).find("a:contains("+ap+")").parent();$(".filter-item",an).not($matches).addClass("hide");$matches.removeClass("hide")}else{$(an).find(".filter-item").removeClass("hide")}return false}).keyup(function(){$(this).change()})}ak($("#form-filter"),$(".ui-accordion-content"));$(".filter-form").on("submit",function(al){al.preventDefault()});$(".accordion").filter(":last-child").on("click",function(){$(".filter-item").removeClass("hide");$(".filter-input").val("")})})();$(window).on("hashchange",function(ak){var al=window.location.hash.replace(/^#\/?/,"");if(document.getElementById(al)){$.smoothScroll({scrollTarget:"#"+al})}});$(window).trigger("hashchange");var aa=$("#auth_btn");var f=/^[\w\.=-]+@[\w\.-]+\.[\w]{2,6}$/i,q=/^[a-zA-z][a-zA-Z1-9]{7,20}$/i;var v=false,C=false;var U=$("#identity"),ag=$("#credential");U.on("change",function(){var ak=$(this).val();v=f.test(ak);if(v){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});ag.on("change",function(){var ak=$(this).val();C=q.test(ak);if(C){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});var ai=$(".register_form");ai.find("label").eq(0).attr("for","email").next().attr({id:"email",type:"email",placeholder:"Введите Email"});ai.find("label").eq(1).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});ai.find("label").eq(2).attr("for","passwordVerify").next().attr({id:"passwordVerify",placeholder:"Повторите Пароль"});var Y=ai.find("button");Y.attr("disabled",true);var F=false,B=false;var G=$("#password"),X=$("#passwordVerify");$("#email").on("keyup",function(){var ak=$(this).val();F=f.test(ak);if(F){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}D()});G.on("keyup",function(){var ak=$(this).val();B=q.test(ak);if(B){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}D()});X.on("keyup",function(){if(B&&G.val()==X.val()){$(this).css("border","1px solid green");G.css("border","1px solid green")}else{$(this).css("border","1px solid red");G.css("border","1px solid red")}D()});function D(){if(F==true&&B==true&&G.val()==X.val()){Y.attr("disabled",false)}else{Y.attr("disabled",true)}}var Q=$(".change_mail_form");Q.find("label").eq(0).attr("for","newEmail").next().attr({id:"newEmail",type:"email",placeholder:"Введите Email"});Q.find("label").eq(1).attr("for","emailVerify").next().attr({id:"emailVerify",type:"email",placeholder:"Повторите Email"});Q.find("label").eq(2).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});var af=$("#change_email");af.attr("disabled",true);var k=false,M=false;var y=$("#newEmail"),m=$("#emailVerify");y.on("keyup",function(){var ak=$(this).val();k=f.test(ak);if(k){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}d()});m.on("keyup",function(){if(k&&y.val()==m.val()){$(this).css("border","1px solid green");y.css("border","1px solid green")}else{$(this).css("border","1px solid red");y.css("border","1px solid red")}d()});$("#password").on("keyup",function(){var ak=$(this).val();M=q.test(ak);if(M){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}d()});function d(){if(k==true&&M==true&&y.val()==m.val()){af.attr("disabled",false)}else{af.attr("disabled",true)}}var E=$(".change_pass_form");E.find("label").eq(0).attr("for","oldPass").next().attr({id:"oldPass",type:"password",placeholder:"Текущий пароль"});E.find("label").eq(1).attr("for","newPass").next().attr({id:"newPass",type:"password",placeholder:"Новый пароль"});E.find("label").eq(2).attr("for","passVerify").next().attr({id:"passVerify",placeholder:"Повторите пароль"});var e=$("#change_pass");e.attr("disabled",true);var c=false,h=false;var P=$("#newPass"),R=$("#passVerify");P.on("keyup",function(){var ak=$(this).val();c=q.test(ak);if(c){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}W()});R.on("keyup",function(){if(c&&P.val()==R.val()){$(this).css("border","1px solid green");P.css("border","1px solid green")}else{$(this).css("border","1px solid red");P.css("border","1px solid red")}W()});$("#oldPass").on("keyup",function(){var ak=$(this).val();h=q.test(ak);if(h){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}W()});function W(){if(c==true&&h==true&&P.val()==R.val()){e.attr("disabled",false)}else{e.attr("disabled",true)}}$("form").find("ul").addClass("list-unstyled").find("li").css({color:"#cc0000",background:"#FFDD7A"}).prepend('<span class="glyphicon glyphicon glyphicon-ban-circle"></span> ');$(".logout").on("click",function(){return confirm("Вы действительно хотите выйти из системы?")});$('[data-toggle="tooltip"]').tooltip({animation:true});$(".back").on("click",function(){history.back()});$(".warning").on("click",function(){return confirm("Вы действительно хотите удалить этот элемент, это может привести к нарушению целостности системы! Удалить?")});var aj=$('[name="parent_state"]').val(),x=$(".category_select").find("option"),b=$(".name_input").val();x.each(function(ak){if(aj==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}if(b==$(this).text()){$(this).attr("disabled",true)}});var L=$('[name="brand_state"]').val(),A=$('[name="supplier_state"]').val(),u=$('[name="catalog_state"]').val(),T=$(".supplier_select").find("option"),V=$(".brand_select").find("option"),ah=x;V.each(function(){if(L==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});ah.each(function(){if(u==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});T.each(function(){if(A==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});$(".hide_row").addClass("text-muted").find("a").css("opacity",0.4).end().find(".show-hide").html('<span class="glyphicon glyphicon glyphicon-eye-open"></span> Показать');var N=$(".form_wrap").find('[type="file"]').val(""),Z=$(".excel-file-button").attr("disabled",true);N.on("change",function(){if($(this).val().indexOf(".xls")>0||$(this).val().indexOf(".xlsx")>0){z()}else{Z.attr("disabled",true)}});function z(){Z.attr("disabled",false)}var ad=$(".img-file-button").attr("disabled",true);N.on("change",function(){if($(this).val().indexOf(".png")>0||$(this).val().indexOf(".jpeg")>0||$(this).val().indexOf(".jpg")>0){s()}else{ad.attr("disabled",true)}});function s(){ad.attr("disabled",false)}if(location.href.indexOf("q")>0){var w=window.location.href;var ab=w.slice(w.indexOf("=")+1,w.length);var O=decodeURIComponent(ab).replace(/\+/g," ");$(".search-input").val(O)}var J=$(".filter-criteria");(function(){var ak=J.find("a"),al=[];if(ak.length<2){return}ak.each(function(){al.reverse(al.push($(this).data("link")))}).each(function(am){$(this).attr("href",$(this).attr("href")+"/"+al[am])})})();$(".product-list").on("click",function(ak){window.location="/product";ak.preventDefault()});$(".number").attr({type:"number",min:0,step:0.01});var S=$("#product");S.find("label").wrap('<div class="form-group"></div>');var o=$("#back-to-top");$(window).scroll(function(){if($(this).scrollTop()>350){o.fadeIn()}else{o.fadeOut()}});o.on("click",function(){$("#back-to-top").tooltip("hide");$("body, html").animate({scrollTop:0},800);return false});o.tooltip("show");$(".product-price").each(function(){var ak=$(this).text().split(".");var am=!isNaN(ak[0])?parseInt(ak[0]):"",al=!isNaN(ak[1])?parseInt(ak[1]):"";if(am&&al){$(this).text(am+" грн. "+al+" коп.")}else{if(am){$(this).text(am+"  грн.")}else{if(al){$(this).text(al+" коп.")}else{$(this).text("")}}}});var K=$("img.lazy");if(K.length>0){K.lazyload({effect:"fadeIn"})}S.on("submit",function(){var ak=S.find("textarea");if(ak.val()==""){ak.val("empty")}});var t=$(".first-search-page");t.on("click",function(am){var ak=window.location.href;var al=ak.slice(ak.indexOf("?"),ak.length);window.location.href=$(this).attr("href")+al;am.preventDefault()});var a=$(".zoom");$(".product-image").find("img").hover(function(){a.stop(true,true).animate({top:"20px",left:"20px","font-size":"48px"})},function(){a.stop(true,true).animate({top:"5px",left:"5px","font-size":"28px"},function(){a.removeAttr("style")})});var i=new Object();var I={init:function(am){i=$.extend({},this,I);i.searching=false;i.o=new Object();var ak={overlaySelector:".md-overlay",closeSelector:".md-close",classAddAfterOpen:"md-show",modalAttr:"data-modal",perspectiveClass:"md-perspective",perspectiveSetClass:"md-setperspective",afterOpen:function(an,ao){},afterClose:function(an,ao){}};i.o=$.extend({},ak,am);i.n=new Object();var al=$(i.o.overlaySelector);$(this).click(function(){var ap=$("#"+$(this).attr(i.o.modalAttr)),ar=$(i.o.closeSelector,ap);var ao=$(this);$(ap).addClass(i.o.classAddAfterOpen);$(al).on("click",function(){an();i.afterClose(ao,ap);$(al).off("click")});if($(ao).hasClass(i.o.perspectiveSetClass)){setTimeout(function(){$(document.documentElement).addClass(i.o.perspectiveClass)},25)}i.afterOpen(ao,ap);function aq(at){$(ap).removeClass(i.o.classAddAfterOpen);if(at){$(document.documentElement).removeClass(i.o.perspectiveClass)}}function an(){aq($(ao).hasClass(i.o.perspectiveSetClass))}$(ar).on("click",function(at){at.stopPropagation();an();location.hash="";i.afterClose(ao,ap)})})},afterOpen:function(ak,al){i.o.afterOpen(ak,al)},afterClose:function(ak,al){i.o.afterClose(ak,al)}};$.fn.modalEffects=function(ak){if(I[ak]){return I[ak].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof ak==="object"||!ak){return I.init.apply(this,arguments)}else{$.error("Method "+ak+" does not exist on jQuery.modalEffects")}}};function n(){return !!("ontouchstart" in window)?1:0}var j=$(".md-trigger");j.modalEffects({afterClose:function(ak,al){$(".md-trigger").removeClass("highlighted");$(ak).addClass("highlighted");$("#afterclose").removeClass("invisible").html('Just closed modal: "'+$(ak).html()+'"');setTimeout(function(){$(ak).removeClass("highlighted");$("#afterclose").addClass("invisible")},3000);$(".one-click-buy-number").val(1)}});j.on("click",function(ak){ak.preventDefault()});(function(){var ak=9,al;$(".one-click-buy").on("click",function(){var am=$(this).parents(".product").find("h5").text();var an=$(this).prev().prev(".id").val();al=$(this).prev(".qty").val();$(".one-click-buy-product-name").text(am);$(".one-click-buy-product-input-id").val(an);$(".one-click-buy-number").prop("max",al).on("change scroll",function(){$(".one-click-buy-product-input-qty").val($(this).val())});$(".one-click-buy-input").on("keypress",function(ao){return !(/\D/.test(String.fromCharCode(ao.charCode)))}).on("keyup",function(){var ao=$(this);if(ao.val().length>ak){ao.val(ao.val().substr(0,ak))}})})})();(function(){var ak=$(".add-to-cart");ak.on("submit",function(){var al=window.location.pathname;$(".continue").val(al)})})();(function(){$(".remove-all").on("click",function(al){var ak=confirm("Вы действительно хотите удалить все товары из корзины?");if(ak){$(".one-click-buy-input").prop("required",false);$(".checkout-click-buy-input").prop("required",false);$(".address-buy-input").prop("required",false)}return ak})})();(function(){$(".cart-item-remove").on("click",function(){$(".one-click-buy-input").prop("required",false);$(".checkout-click-buy-input").prop("required",false);$(".address-buy-input").prop("required",false)})})();(function(){ac();$(".cart-product-qty").on("change",function(){var al=$(this).next().data("price");if(al!=undefined){var ak=($(this).find("input").val()===""||$(this).find("input").val()<1)?1:$(this).find("input").val();var an=(parseFloat(al)*parseFloat(ak))/100;var am=an.toString().split(".");var ap=parseInt(am[0]),ao=parseInt(am[1]);if(ap&&ao){$(this).next().text(ap+" грн. "+ao+" коп.")}else{if(ap){$(this).next().text(ap+"  грн.")}else{if(ao){$(this).next().text(ao+" коп.")}else{$(this).next().text("")}}}}ac()})})();function ac(){var ak=$(".cart-from");var at=[],an=[];ak.find(".cart-product-qty").each(function(){if($(this).val()!=""){at.push(parseInt($(this).val()))}});ak.find(".cart-product-price").each(function(){an.push($(this).data("price"))});var ar=0;for(var ao=0,ap=at.length;ao<ap;ao++){ar+=at[ao]*an[ao]}ar/=100;var al=ar.toString().split(".");var am=parseInt(al[0]),aq=parseInt(al[1]);if(am&&aq){$(".total-sum").text(am+" грн. "+aq+" коп.")}else{if(am){$(".total-sum").text(am+"  грн.")}else{if(aq){$(".total-sum").text(aq+" коп.")}else{$(".total-sum").text("")}}}}(function(){var ak=$(".btn-breadcrumb"),am=$(".step.hover"),an="step-1";var al=9;ak.find(".btn").on("click",function(){ak.find(".btn").removeClass("hover");$(this).addClass("hover");an=$(this).data("step");$(".step").css("display","none");$("."+an).css("display","block")});$(".checkout-click-buy-input").on("keypress",function(ao){return !(/\D/.test(String.fromCharCode(ao.charCode)))}).on("keyup",function(){var ao=$(this);if(ao.val().length>al){ao.val(ao.val().substr(0,al))}});$(".next-step").on("click",function(){var ao=$(".btn.hover").data("step");if(ao=="step-1"){ak.find(".btn").removeClass("hover");ak.find(".btn").eq(1).addClass("hover");$(".step").css("display","none");$(".step-2").css("display","block")}else{if(ao=="step-2"){ak.find(".btn").removeClass("hover");ak.find(".btn").eq(2).addClass("hover");$(".step").css("display","none");$(".step-3").css("display","block")}}})})();(function(){$(".checkout-click-buy-submit").on("click",function(){$(".one-click-buy-input").prop("required",false)})})()});