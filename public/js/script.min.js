$(function(){var G=$(".horizontal-nav a");G.hover(function(){$(this).css({color:"#563D7C"}).children().css({color:"#428BCA"})},function(){$(this).css({color:"#428BCA"}).children().css({color:"#563D7C"})});var t=["glyphicon-picture","glyphicon-pencil","glyphicon-comment","glyphicon-shopping-cart","glyphicon-earphone"];var f=$(".nav:first").find("li").find("a");f.each(function(M){$(this).append(' <span class="glyphicon '+t[M]+'"><span>')});$(".items").mosaic({animation:"slide"});$(".accordion").each(function(){$(this).accordion({header:$(this).children("h3"),active:false,collapsible:true,heightStyle:"content"})});var F=$("#auth_btn");F.attr("disabled",true);var c=/^[\w\.=-]+@[\w\.-]+\.[\w]{2,6}$/i,h=/^[a-zA-z]{1}[a-zA-Z1-9]{7,20}$/i;var k=false,p=false;var A=$("#identity"),I=$("#credential");A.on("keyup",function(){var M=$(this).val();k=c.test(M);if(k){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}w()});I.on("keyup",function(){var M=$(this).val();p=h.test(M);if(p){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}w()});function w(){if(k==true&&p==true){F.attr("disabled",false)}else{F.attr("disabled",true)}}var K=$(".register_form");K.find("label").eq(0).attr("for","email").next().attr({id:"email",type:"email",placeholder:"Введите Email"});K.find("label").eq(1).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});K.find("label").eq(2).attr("for","passwordVerify").next().attr({id:"passwordVerify",placeholder:"Повторите Пароль"});var D=K.find("button");D.attr("disabled",true);var r=false,n=false;var s=$("#password");var C=$("#passwordVerify");$("#email").on("keyup",function(){var M=$(this).val();r=c.test(M);if(r){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}q()});s.on("keyup",function(){var M=$(this).val();n=h.test(M);if(n){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}q()});C.on("keyup",function(){if(n&&s.val()==C.val()){$(this).css("border","1px solid green");s.css("border","1px solid green")}else{$(this).css("border","1px solid red");s.css("border","1px solid red")}q()});function q(){if(r==true&&n==true&&s.val()==C.val()){D.attr("disabled",false)}else{D.attr("disabled",true)}}$("form").find("ul").addClass("list-unstyled").find("li").css({color:"#cc0000",background:"#FFDD7A"}).prepend('<span class="glyphicon glyphicon glyphicon-ban-circle"></span> ');$(".logout").on("click",function(){confirm("Вы действительно хотите выйти из системы?")});$('[data-toggle="tooltip"]').tooltip({animation:true});$(".back").on("click",function(){history.back()});$(".warning").on("click",function(){return confirm("Вы действительно хотите удалить этот элемент, это может привести к нарушению целостности системы! Удалить?")});var L=$('[name="parent_state"]').val(),l=$(".category_select").find("option"),a=$(".name_input").val();l.each(function(M){if(L==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}if(a==$(this).text()){$(this).attr("disabled",true)}});var u=$('[name="brand_state"]').val(),j=$('[name="catalog_state"]').val(),B=$(".brand_select").find("option"),J=l;B.each(function(){if(u==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});J.each(function(){if(j==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});$(".hide_row").addClass("text-muted").find("a").css("opacity",0.4).end().find(".show-hide").html('<span class="glyphicon glyphicon glyphicon-eye-open"></span> Показать');var v=$(".form_wrap").find('[type="file"]').val(""),E=$(".excel-file-button").attr("disabled",true);v.on("change",function(){if($(this).val().indexOf(".xls")>0||$(this).val().indexOf(".xlsx")>0){m()}else{E.attr("disabled",true)}});function m(){E.attr("disabled",false)}var H=$(".img-file-button").attr("disabled",true);v.on("change",function(){if($(this).val().indexOf(".png")>0||$(this).val().indexOf(".jpeg")>0||$(this).val().indexOf(".jpg")>0){i()}else{H.attr("disabled",true)}});function i(){H.attr("disabled",false)}var e=window.location.search,z=$(".brand-link"),o=$(".catalog-link");if(e.indexOf("brand")!=-1){o.each(function(O){var R=e.slice(1,e.length)+"&";var M=$(this).attr("href");var Q=M.slice(0,M.indexOf("?")+1);var N=M.slice(M.indexOf("?")+1,M.length);var P=Q+R+N;$(this).attr("href",P)})}if(e.indexOf("catalog")!=-1){z.each(function(M){$(this).attr("href",($(this).attr("href")+"&"+e.slice(1,e.length)))})}if(e.indexOf("brand")>0&&e.indexOf("catalog")>0){z.each(function(O){var M=$(this).attr("href");var P=M.slice(0,M.indexOf("&"));var N=M.slice(M.lastIndexOf("&"),M.length);$(this).attr("href",P+N)});o.each(function(){var M=$(this).attr("href");var O=M.slice(0,M.indexOf("&"));var N=M.slice(M.lastIndexOf("&"),M.length);$(this).attr("href",O+N)})}var y=$(".link-type").data("type");if(y!=""&&y!==undefined){z.each(function(O){var M=$(this).attr("href");var N=M.slice(M.lastIndexOf("/"),M.length);$(this).attr("href","/"+y+N)});o.each(function(){var M=$(this).attr("href");var N=M.slice(M.lastIndexOf("/"),M.length);$(this).attr("href","/"+y+N)})}var b=$(".first-page");b.on("click",function(P){var M=window.location.href;if(e.indexOf("brand")>0||e.indexOf("catalog")>0){var O=M.slice(0,M.lastIndexOf("/")+1);var N=M.slice(M.indexOf("?"),M.length);window.location=O+"1"+N;P.preventDefault()}});var d=$(".breadcrumb");d.find("a").on("click",function(O){var M=window.location.href;var N=M.slice(0,M.lastIndexOf("/")+1);window.location=N+$(this).attr("href");O.preventDefault()});$(".product-list").on("click",function(M){window.location="/product";M.preventDefault()});if(e.indexOf("brand")==-1&&e.indexOf("catalog")==-1){d.css("visibility","hidden")}if($("#productList-table").length>0){d.css("visibility","visible")}else{$("#redirect-form").css("display","none")}$(".number").attr({type:"number",min:0,step:0.01});var x=$("#product");x.find("label").wrap('<div class="form-group"></div>');var g=$("#back-to-top");$(window).scroll(function(){if($(this).scrollTop()>350){g.fadeIn()}else{g.fadeOut()}});g.on("click",function(){$("#back-to-top").tooltip("hide");$("body, html").animate({scrollTop:0},800);return false});g.tooltip("show");$(".product-price").each(function(){var M=$(this).text().split(".");var O=!isNaN(M[0])?parseInt(M[0]):"",N=!isNaN(M[1])?parseInt(M[1]):"";if(O&&N){$(this).text(O+" грн. "+N+" коп.")}else{if(O){$(this).text(O+"  грн.")}else{if(N){$(this).text(N+" коп.")}else{$(this).text("")}}}});$("img.lazy").lazyload({effect:"fadeIn"});x.on("submit",function(){var M=x.find("textarea");if(M.val()==""){M.val("empty")}})});