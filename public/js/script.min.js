$(function(){var n=$(".horizontal-nav a");n.hover(function(){$(this).css({color:"#563D7C"}).children().css({color:"#428BCA"})},function(){$(this).css({color:"#428BCA"}).children().css({color:"#563D7C"})});var A=["glyphicon-picture","glyphicon-pencil","glyphicon-comment","glyphicon-shopping-cart","glyphicon-earphone"];var r=$(".nav:first").find("li").find("a");r.each(function(I){$(this).append(' <span class="glyphicon '+A[I]+'"><span>')});$(".items").mosaic({animation:"slide"});$(".accordion").each(function(){$(this).accordion({header:$(this).children("h3"),active:false,collapsible:true,heightStyle:"content"})});var E=$("#auth_btn");E.attr("disabled",true);var j=/^[\w\.=-]+@[\w\.-]+\.[\w]{2,6}$/i,i=/^[a-zA-z]{1}[a-zA-Z1-9]{7,20}$/i;var q=false,k=false;var H=$("#identity"),h=$("#credential");H.on("keyup",function(){var I=$(this).val();q=j.test(I);if(q){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}F()});h.on("keyup",function(){var I=$(this).val();k=i.test(I);if(k){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}F()});function F(){if(q==true&&k==true){E.attr("disabled",false)}else{E.attr("disabled",true)}}var D=$(".register_form");D.find("label").eq(0).attr("for","email").next().attr({id:"email",type:"email",placeholder:"Введите Email"});D.find("label").eq(1).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});D.find("label").eq(2).attr("for","passwordVerify").next().attr({id:"passwordVerify",placeholder:"Повторите Пароль"});var x=D.find("button");x.attr("disabled",true);var w=false,G=false;var d=$("#password");var m=$("#passwordVerify");$("#email").on("keyup",function(){var I=$(this).val();w=j.test(I);if(w){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}f()});d.on("keyup",function(){var I=$(this).val();G=i.test(I);if(G){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}f()});m.on("keyup",function(){if(G&&d.val()==m.val()){$(this).css("border","1px solid green");d.css("border","1px solid green")}else{$(this).css("border","1px solid red");d.css("border","1px solid red")}f()});function f(){if(w==true&&G==true&&d.val()==m.val()){x.attr("disabled",false)}else{x.attr("disabled",true)}}$("form").find("ul").addClass("list-unstyled").find("li").css({color:"#cc0000",background:"#FFDD7A"}).prepend('<span class="glyphicon glyphicon glyphicon-ban-circle"></span> ');$(".logout").on("click",function(){confirm("Вы действительно хотите выйти из системы?")});$('[data-toggle="tooltip"]').tooltip({animation:true});$(".back").on("click",function(){history.back()});$(".warning").on("click",function(){return confirm("Вы действительно хотите удалить этот элемент, это может привести к нарушению целостности системы! Удалить?")});var o=$('[name="parent_state"]').val(),l=$(".category_select").find("option"),z=$(".name_input").val();l.each(function(I){if(o==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}if(z==$(this).text()){$(this).attr("disabled",true)}});var a=$('[name="brand_state"]').val(),C=$('[name="catalog_state"]').val(),t=$(".brand_select").find("option"),v=l;t.each(function(){if(a==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});v.each(function(){if(C==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});$(".hide_row").addClass("text-muted").find("a").css("opacity",0.4).end().find(".show-hide").html('<span class="glyphicon glyphicon glyphicon-eye-open"></span> Показать');var e=$(".form_wrap").find('[type="file"]').val(""),y=$(".excel-file-button").attr("disabled",true);e.on("change",function(){if($(this).val().indexOf(".xls")>0||$(this).val().indexOf(".xlsx")>0){c()}else{y.attr("disabled",true)}});function c(){y.attr("disabled",false)}var b=window.location.search,u=$(".brand-link"),p=$(".catalog-link");if(b.indexOf("brand")!=-1){p.each(function(K){var N=b.slice(1,b.length)+"&";var I=$(this).attr("href");var M=I.slice(0,I.indexOf("?")+1);var J=I.slice(I.indexOf("?")+1,I.length);var L=M+N+J;$(this).attr("href",L)})}if(b.indexOf("catalog")!=-1){u.each(function(I){$(this).attr("href",($(this).attr("href")+"&"+b.slice(1,b.length)))})}if(b.indexOf("brand")>0&&b.indexOf("catalog")>0){u.each(function(K){var I=$(this).attr("href");var L=I.slice(0,I.indexOf("&"));var J=I.slice(I.lastIndexOf("&"),I.length);$(this).attr("href",L+J)});p.each(function(){var I=$(this).attr("href");var K=I.slice(0,I.indexOf("&"));var J=I.slice(I.lastIndexOf("&"),I.length);$(this).attr("href",K+J)})}var B=$(".link-type").data("type");if(B!=""&&B!==undefined){u.each(function(K){var I=$(this).attr("href");var J=I.slice(I.lastIndexOf("/"),I.length);$(this).attr("href","/"+B+J)});p.each(function(){var I=$(this).attr("href");var J=I.slice(I.lastIndexOf("/"),I.length);$(this).attr("href","/"+B+J)})}var s=$(".first-page");s.on("click",function(L){var I=window.location.href;if(b.indexOf("brand")>0||b.indexOf("catalog")>0){var K=I.slice(0,I.lastIndexOf("/")+1);var J=I.slice(I.indexOf("?"),I.length);window.location=K+"1"+J;L.preventDefault()}});var g=$(".breadcrumb");g.find("a").on("click",function(K){var I=window.location.href;var J=I.slice(0,I.lastIndexOf("/")+1);window.location=J+$(this).attr("href");K.preventDefault()});$(".product-list").on("click",function(I){window.location="/product";I.preventDefault()});if(b.indexOf("brand")==-1&&b.indexOf("catalog")==-1){g.css("visibility","hidden")}if($("#productList-table").length>0){g.css("visibility","visible")}else{$("#redirect-form").css("display","none")}$(".number").attr({type:"number",min:0,step:0.1});$("#product").find("label").wrap('<div class="form-group"></div>')});