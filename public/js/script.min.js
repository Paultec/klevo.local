$(function(){var e=window.localStorage.getItem("close");if(e===null){$("body").prepend('<p id="dummy" class="text-center" style="background-color: #cc0000; color: #ffff00; font-weight: bold; padding: 5px 0;  position: relative">Сайт в разработке, спасибо за понимание. <span class="glyphicon glyphicon-remove" style="cursor: pointer; position: absolute; top: 8px; right: 10px"></span></p>')}$("#dummy").find("span").on("click",function(){$("#dummy").slideUp();window.localStorage.setItem("close","yes")});var aa=$(".horizontal-nav");aa.find("a").hover(function(){$(this).css({color:"#563D7C"}).children().css({color:"#428BCA"})},function(){$(this).css({color:"#428BCA"}).children().css({color:"#563D7C"})});var E=["glyphicon-home","glyphicon-picture","glyphicon-pencil","glyphicon-comment","glyphicon-shopping-cart","glyphicon-earphone"];var j=$(".nav:first").find("li").find("a");j.each(function(ag){$(this).append(' <i class="glyphicon '+E[ag]+'"></i>')});aa.find("li.active").addClass("outline-outward");var n=$(".grub-data");n.appendTo($(".main-nav"));n.children().unwrap();$("ul.nav").find("li.dropdown").hover(function(){$(".dropdown-menu",this).fadeIn()},function(){$(".dropdown-menu",this).fadeOut()});$(".bottom-nav").find("li").find("a").removeClass("float-shadow");var p=$(".items");if(p.length>0){p.mosaic({animation:"slide"})}$(".accordion").each(function(){$(this).accordion({header:$(this).children("h3"),active:false,collapsible:true,heightStyle:"content"})});(function(){$.expr[":"].contains=function(ai,aj,ah){return(ai.textContent||ai.innerText||"").toUpperCase().indexOf(ah[3].toUpperCase())>=0};function ag(ak,aj){var ai=$("<form>").attr({"class":"filter-form",action:"#"}),ah=$("<input>").attr({"class":"filter-input form-control",type:"search",placeholder:"Фильтровать"});$(ai).append(ah).appendTo(ak);$(ah).change(function(){var al=$(this).val();if(al){$matches=$(aj).find("a:contains("+al+")").parent();$(".filter-item",aj).not($matches).addClass("hide");$matches.removeClass("hide")}else{$(aj).find(".filter-item").removeClass("hide")}return false}).keyup(function(){$(this).change()})}ag($("#form-filter"),$(".ui-accordion-content"));$(".filter-form").on("submit",function(ah){ah.preventDefault()});$(".accordion").filter(":last-child").on("click",function(){$(".filter-item").removeClass("hide");$(".filter-input").val("")})})();$(window).on("hashchange",function(ag){var ah=window.location.hash.replace(/^#\/?/,"");if(document.getElementById(ah)){$.smoothScroll({scrollTarget:"#"+ah})}});$(window).trigger("hashchange");var W=$("#auth_btn");var d=/^[\w\.=-]+@[\w\.-]+\.[\w]{2,6}$/i,o=/^[a-zA-z][a-zA-Z1-9]{7,20}$/i;var t=false,A=false;var R=$("#identity"),ac=$("#credential");R.on("change",function(){var ag=$(this).val();t=d.test(ag);if(t){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});ac.on("change",function(){var ag=$(this).val();A=o.test(ag);if(A){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});var ae=$(".register_form");ae.find("label").eq(0).attr("for","email").next().attr({id:"email",type:"email",placeholder:"Введите Email"});ae.find("label").eq(1).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});ae.find("label").eq(2).attr("for","passwordVerify").next().attr({id:"passwordVerify",placeholder:"Повторите Пароль"});var U=ae.find("button");var C=false,z=false;var D=$("#password"),T=$("#passwordVerify");$("#email").on("keyup",function(){var ag=$(this).val();C=d.test(ag);if(C){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});D.on("keyup",function(){var ag=$(this).val();z=o.test(ag);if(z){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});T.on("keyup",function(){if(z&&D.val()==T.val()){$(this).css("border","1px solid green");D.css("border","1px solid green")}else{$(this).css("border","1px solid red");D.css("border","1px solid red")}});var N=$(".change_mail_form");N.find("label").eq(0).attr("for","newEmail").next().attr({id:"newEmail",type:"email",placeholder:"Введите Email"});N.find("label").eq(1).attr("for","emailVerify").next().attr({id:"emailVerify",type:"email",placeholder:"Повторите Email"});N.find("label").eq(2).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});var ab=$("#change_email");var i=false,I=false;var w=$("#newEmail"),k=$("#emailVerify");w.on("keyup",function(){var ag=$(this).val();i=d.test(ag);if(i){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});k.on("keyup",function(){if(i&&w.val()==k.val()){$(this).css("border","1px solid green");w.css("border","1px solid green")}else{$(this).css("border","1px solid red");w.css("border","1px solid red")}});$("#password").on("keyup",function(){var ag=$(this).val();I=o.test(ag);if(I){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});var B=$(".change_pass_form");B.find("label").eq(0).attr("for","oldPass").next().attr({id:"oldPass",type:"password",placeholder:"Текущий пароль"});B.find("label").eq(1).attr("for","newPass").next().attr({id:"newPass",type:"password",placeholder:"Новый пароль"});B.find("label").eq(2).attr("for","passVerify").next().attr({id:"passVerify",placeholder:"Повторите пароль"});var c=$("#change_pass");var b=false,f=false;var M=$("#newPass"),O=$("#passVerify");M.on("keyup",function(){var ag=$(this).val();b=o.test(ag);if(b){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});O.on("keyup",function(){if(b&&M.val()==O.val()){$(this).css("border","1px solid green");M.css("border","1px solid green")}else{$(this).css("border","1px solid red");M.css("border","1px solid red")}setChangePasswordActive()});$("#oldPass").on("keyup",function(){var ag=$(this).val();f=o.test(ag);if(f){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});$("form").find("ul").addClass("list-unstyled").find("li").css({color:"#cc0000",background:"#FFDD7A"}).prepend('<span class="glyphicon glyphicon glyphicon-ban-circle"></span> ');$(".logout").on("click",function(){return confirm("Вы действительно хотите выйти из системы?")});$('[data-toggle="tooltip"]').tooltip({animation:true});$(".back").on("click",function(){history.back()});$(".warning").on("click",function(){return confirm("Вы действительно хотите удалить этот элемент, это может привести к нарушению целостности системы! Удалить?")});var af=$('[name="parent_state"]').val(),v=$(".category_select").find("option"),a=$(".name_input").val();v.each(function(ag){if(af==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});var J=$('[name="brand_state"]').val(),y=$('[name="supplier_state"]').val(),s=$('[name="catalog_state"]').val(),Q=$(".supplier_select").find("option"),S=$(".brand_select").find("option"),ad=v;S.each(function(){if(J==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});ad.each(function(){if(s==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});Q.each(function(){if(y==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});$(".hide_row").addClass("text-muted").find("a").css("opacity",0.4).end().find(".show-hide").html('<span class="glyphicon glyphicon glyphicon-eye-open"></span> Показать');var K=$(".form_wrap").find('[type="file"]').val(""),V=$(".excel-file-button").attr("disabled",true);K.on("change",function(){if($(this).val().indexOf(".xls")>0||$(this).val().indexOf(".xlsx")>0){x()}else{V.attr("disabled",true)}});function x(){V.attr("disabled",false)}var Z=$(".img-file-button").attr("disabled",true);K.on("change",function(){if($(this).val().indexOf(".png")>0||$(this).val().indexOf(".jpeg")>0||$(this).val().indexOf(".jpg")>0){q()}else{Z.attr("disabled",true)}});function q(){Z.attr("disabled",false)}if(location.href.indexOf("q")>0){var u=window.location.href;var X=u.slice(u.indexOf("=")+1,u.length);var L=decodeURIComponent(X).replace(/\+/g," ");$(".search-input").val(L)}var G=$(".filter-criteria");(function(){var ag=G.find("a"),ah=[];if(ag.length<2){return}ag.each(function(){ah.reverse(ah.push($(this).data("link")))}).each(function(ai){$(this).attr("href",$(this).attr("href")+"/"+ah[ai])})})();$(".product-list").on("click",function(ag){window.location="/product";ag.preventDefault()});$(".number").attr({type:"number",min:0,step:0.01});var P=$("#product");P.find("label").wrap('<div class="form-group"></div>');var m=$("#back-to-top");$(window).scroll(function(){if($(this).scrollTop()>350){m.fadeIn()}else{m.fadeOut()}});m.on("click",function(){$("#back-to-top").tooltip("hide");$("body, html").animate({scrollTop:0},800);return false});m.tooltip("show");$(".product-price").each(function(){var ag=$(this).text().split(".");var ai=!isNaN(ag[0])?parseInt(ag[0]):"",ah=!isNaN(ag[1])?parseInt(ag[1]):"";if(ai&&ah){$(this).text(ai+" грн. "+ah+" коп.")}else{if(ai){$(this).text(ai+"  грн.")}else{if(ah){$(this).text(ah+" коп.")}else{$(this).text("")}}}});var H=$("img.lazy");if(H.length>0){H.lazyload({effect:"fadeIn"})}P.on("submit",function(){var ag=P.find("textarea");if(ag.val()==""){ag.val("empty")}});var r=$(".first-search-page");r.on("click",function(ai){var ag=window.location.href;var ah=ag.slice(ag.indexOf("?"),ag.length);window.location.href=$(this).attr("href")+ah;ai.preventDefault()});(function(){var ah=$(".zoom"),ag=$(".product-image").find("img");ag.hover(function(){ah.stop(true,true).animate({top:"20px",left:"20px","font-size":"48px"})},function(){ah.stop(true,true).animate({top:"5px",left:"5px","font-size":"28px"},function(){ah.removeAttr("style")})});ah.on("mouseenter",function(){$(this).stop()}).on("click",function(){ag.trigger("mouseleave")})})();var g=new Object();var F={init:function(ai){g=$.extend({},this,F);g.searching=false;g.o=new Object();var ag={overlaySelector:".md-overlay",closeSelector:".md-close",classAddAfterOpen:"md-show",modalAttr:"data-modal",perspectiveClass:"md-perspective",perspectiveSetClass:"md-setperspective",afterOpen:function(aj,ak){},afterClose:function(aj,ak){}};g.o=$.extend({},ag,ai);g.n=new Object();var ah=$(g.o.overlaySelector);$(this).click(function(){var al=$("#"+$(this).attr(g.o.modalAttr)),an=$(g.o.closeSelector,al);var ak=$(this);$(al).addClass(g.o.classAddAfterOpen);$(ah).on("click",function(){aj();g.afterClose(ak,al);$(ah).off("click")});if($(ak).hasClass(g.o.perspectiveSetClass)){setTimeout(function(){$(document.documentElement).addClass(g.o.perspectiveClass)},25)}g.afterOpen(ak,al);function am(ao){$(al).removeClass(g.o.classAddAfterOpen);if(ao){$(document.documentElement).removeClass(g.o.perspectiveClass)}}function aj(){am($(ak).hasClass(g.o.perspectiveSetClass))}$(an).on("click",function(ao){ao.stopPropagation();aj();location.hash="";g.afterClose(ak,al)})})},afterOpen:function(ag,ah){g.o.afterOpen(ag,ah)},afterClose:function(ag,ah){g.o.afterClose(ag,ah)}};$.fn.modalEffects=function(ag){if(F[ag]){return F[ag].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof ag==="object"||!ag){return F.init.apply(this,arguments)}else{$.error("Method "+ag+" does not exist on jQuery.modalEffects")}}};function l(){return !!("ontouchstart" in window)?1:0}var h=$(".md-trigger");h.modalEffects({afterClose:function(ag,ah){$(".md-trigger").removeClass("highlighted");$(ag).addClass("highlighted");$("#afterclose").removeClass("invisible").html('Just closed modal: "'+$(ag).html()+'"');setTimeout(function(){$(ag).removeClass("highlighted");$("#afterclose").addClass("invisible")},3000);$(".one-click-buy-number").val(1)}});h.on("click",function(ag){ag.preventDefault()});(function(){var aj=9,ak;var ah=0,ai=0;$(".one-click-buy").on("click",function(){var al=$(this).parents(".product").find("h5").text();var am=$(this).prev().prev(".id").val();ak=$(this).prev(".qty").val();$(".one-click-buy-product-name").text(al);$(".one-click-buy-product-input-id").val(am);$(".one-click-buy-number").prop("max",ak).on("change scroll",function(){$(".one-click-buy-product-input-qty").val($(this).val())});$(".one-click-buy-input").on("keypress",function(an){return !(/\D/.test(String.fromCharCode(an.charCode)))}).on("keyup",function(){var an=$(this);if(an.val().length>aj){an.val(an.val().substr(0,aj))}})});var ag=$(".one-click-buy-form").find("form");ag.on("submit",function(al){ah=$(".one-click-buy-number").val();ai=$(".one-click-buy-input").val().length;if(ah>ak||ah<=0){if($("#informer").length==0){ag.prepend('<p id="informer" class="text-danger text-center">Проверьте введенные данные.</p>')}al.preventDefault()}else{if(ai==0||ai!=aj){if($("#informer").length==0){ag.prepend('<p id="informer" class="text-danger text-center">Проверьте введенные данные.</p>')}al.preventDefault()}}});$(".one-click-buy-submit-from-cart").on("click",function(){$(".address-buy-input").removeAttr("name");$(".checkout-click-buy-input").removeAttr("name")})})();(function(){var ag=$(".add-to-cart");ag.on("submit",function(){var ah=window.location.pathname;$(".continue").val(ah)})})();(function(){$(".remove-all").on("click",function(ah){var ag=confirm("Вы действительно хотите удалить все товары из корзины?");if(ag){$(".one-click-buy-input").prop("required",false);$(".checkout-click-buy-input").prop("required",false);$(".address-buy-input").prop("required",false)}return ag})})();(function(){$(".cart-item-remove").on("click",function(){$(".one-click-buy-input").prop("required",false);$(".checkout-click-buy-input").prop("required",false);$(".address-buy-input").prop("required",false)})})();(function(){Y();$(".cart-product-qty").on("change",function(){var ah=$(this).next().data("price");if(ah!=undefined){var ag=($(this).find("input").val()===""||$(this).find("input").val()<1)?1:$(this).find("input").val();var aj=(parseFloat(ah)*parseFloat(ag))/100;var ai=aj.toString().split(".");var al=parseInt(ai[0]),ak=parseInt(ai[1]);if(al&&ak){$(this).next().text(al+" грн. "+ak+" коп.")}else{if(al){$(this).next().text(al+"  грн.")}else{if(ak){$(this).next().text(ak+" коп.")}else{$(this).next().text("")}}}}Y()})})();function Y(){var ag=$(".cart-from");var ao=[],aj=[];ag.find(".cart-product-qty").each(function(){if($(this).val()!=""){ao.push(parseInt($(this).val()))}});ag.find(".cart-product-price").each(function(){aj.push($(this).data("price"))});var an=0;for(var ak=0,al=ao.length;ak<al;ak++){an+=ao[ak]*aj[ak]}an/=100;var ah=an.toString().split(".");var ai=parseInt(ah[0]),am=parseInt(ah[1]);if(ai&&am){$(".total-sum").text(ai+" грн. "+am+" коп.")}else{if(ai){$(".total-sum").text(ai+"  грн.")}else{if(am){$(".total-sum").text(am+" коп.")}else{$(".total-sum").text("")}}}}(function(){var ag=$(".btn-breadcrumb"),ai=$(".step.hover"),aj="step-1";var ah=9;ag.find(".btn").on("click",function(){ag.find(".btn").removeClass("hover");$(this).addClass("hover");aj=$(this).data("step");$(".step").css("display","none");$("."+aj).css("display","block")});$(".checkout-click-buy-input").on("keypress",function(ak){return !(/\D/.test(String.fromCharCode(ak.charCode)))}).on("keyup",function(){var ak=$(this);if(ak.val().length>ah){ak.val(ak.val().substr(0,ah))}});$(".next-step").on("click",function(){var ak=$(".btn.hover").data("step");if(ak=="step-1"){ag.find(".btn").removeClass("hover");ag.find(".btn").eq(1).addClass("hover");$(".step").css("display","none");$(".step-2").css("display","block")}else{if(ak=="step-2"){ag.find(".btn").removeClass("hover");ag.find(".btn").eq(2).addClass("hover");$(".step").css("display","none");$(".step-3").css("display","block")}}})})();(function(){$(".checkout-click-buy-submit").on("click",function(){$(".one-click-buy-input").prop("required",false)})})()});