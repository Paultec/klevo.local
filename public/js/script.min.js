$(function(){var f=window.localStorage.getItem("close");if(f===null){$("body").prepend('<p id="dummy" class="text-center" style="background-color: #cc0000; color: #ffff00; font-weight: bold; padding: 5px 0;  position: relative">Сайт в разработке, спасибо за понимание. <span class="glyphicon glyphicon-remove" style="cursor: pointer; position: absolute; top: 8px; right: 10px"></span></p>')}$("#dummy").find("span").on("click",function(){$("#dummy").slideUp();window.localStorage.setItem("close","yes")});var X=$(".horizontal-nav");X.find("a").hover(function(){$(this).css({color:"#563D7C"}).children().css({color:"#428BCA"})},function(){$(this).css({color:"#428BCA"}).children().css({color:"#563D7C"})});var C=["glyphicon-home","glyphicon-picture","glyphicon-pencil","glyphicon-comment","glyphicon-shopping-cart","glyphicon-earphone"];var i=$(".nav:first").find("li").find("a");i.each(function(ad){$(this).append(' <i class="glyphicon '+C[ad]+'"></i>')});X.find("li.active").addClass("outline-outward");var l=$(".grub-data");l.appendTo($(".main-nav"));l.children().unwrap();$("ul.nav").find("li.dropdown").hover(function(){$(".dropdown-menu",this).fadeIn()},function(){$(".dropdown-menu",this).fadeOut()});$(".bottom-nav").find("li").find("a").removeClass("float-shadow");var n=$(".items");if(n.length>0){n.mosaic({animation:"slide"})}$(".accordion").each(function(){$(this).accordion({header:$(this).children("h3"),active:false,collapsible:true,heightStyle:"content"})});$(window).on("hashchange",function(ad){var ae=window.location.hash.replace(/^#\/?/,"");if(document.getElementById(ae)){$.smoothScroll({scrollTarget:"#"+ae})}});$(window).trigger("hashchange");var U=$("#auth_btn");var e=/^[\w\.=-]+@[\w\.-]+\.[\w]{2,6}$/i,m=/^[a-zA-z]{1}[a-zA-Z1-9]{7,20}$/i;var q=false,x=false;var O=$("#identity"),Z=$("#credential");O.on("change",function(){var ad=$(this).val();q=e.test(ad);if(q){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});Z.on("change",function(){var ad=$(this).val();x=m.test(ad);if(x){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}});var ab=$(".register_form");ab.find("label").eq(0).attr("for","email").next().attr({id:"email",type:"email",placeholder:"Введите Email"});ab.find("label").eq(1).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});ab.find("label").eq(2).attr("for","passwordVerify").next().attr({id:"passwordVerify",placeholder:"Повторите Пароль"});var S=ab.find("button");S.attr("disabled",true);var A=false,w=false;var B=$("#password"),R=$("#passwordVerify");$("#email").on("keyup",function(){var ad=$(this).val();A=e.test(ad);if(A){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}y()});B.on("keyup",function(){var ad=$(this).val();w=m.test(ad);if(w){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}y()});R.on("keyup",function(){if(w&&B.val()==R.val()){$(this).css("border","1px solid green");B.css("border","1px solid green")}else{$(this).css("border","1px solid red");B.css("border","1px solid red")}y()});function y(){if(A==true&&w==true&&B.val()==R.val()){S.attr("disabled",false)}else{S.attr("disabled",true)}}var K=$(".change_mail_form");K.find("label").eq(0).attr("for","newEmail").next().attr({id:"newEmail",type:"email",placeholder:"Введите Email"});K.find("label").eq(1).attr("for","emailVerify").next().attr({id:"emailVerify",type:"email",placeholder:"Повторите Email"});K.find("label").eq(2).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});var Y=$("#change_email");Y.attr("disabled",true);var h=false,G=false;var t=$("#newEmail"),j=$("#emailVerify");t.on("keyup",function(){var ad=$(this).val();h=e.test(ad);if(h){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}c()});j.on("keyup",function(){if(h&&t.val()==j.val()){$(this).css("border","1px solid green");t.css("border","1px solid green")}else{$(this).css("border","1px solid red");t.css("border","1px solid red")}c()});$("#password").on("keyup",function(){var ad=$(this).val();G=m.test(ad);if(G){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}c()});function c(){if(h==true&&G==true&&t.val()==j.val()){Y.attr("disabled",false)}else{Y.attr("disabled",true)}}var z=$(".change_pass_form");z.find("label").eq(0).attr("for","oldPass").next().attr({id:"oldPass",type:"password",placeholder:"Текущий пароль"});z.find("label").eq(1).attr("for","newPass").next().attr({id:"newPass",type:"password",placeholder:"Новый пароль"});z.find("label").eq(2).attr("for","passVerify").next().attr({id:"passVerify",placeholder:"Повторите пароль"});var d=$("#change_pass");d.attr("disabled",true);var b=false,g=false;var J=$("#newPass"),L=$("#passVerify");J.on("keyup",function(){var ad=$(this).val();b=m.test(ad);if(b){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}Q()});L.on("keyup",function(){if(b&&J.val()==L.val()){$(this).css("border","1px solid green");J.css("border","1px solid green")}else{$(this).css("border","1px solid red");J.css("border","1px solid red")}Q()});$("#oldPass").on("keyup",function(){var ad=$(this).val();g=m.test(ad);if(g){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}Q()});function Q(){if(b==true&&g==true&&J.val()==L.val()){d.attr("disabled",false)}else{d.attr("disabled",true)}}$("form").find("ul").addClass("list-unstyled").find("li").css({color:"#cc0000",background:"#FFDD7A"}).prepend('<span class="glyphicon glyphicon glyphicon-ban-circle"></span> ');$(".logout").on("click",function(){return confirm("Вы действительно хотите выйти из системы?")});$('[data-toggle="tooltip"]').tooltip({animation:true});$(".back").on("click",function(){history.back()});$(".warning").on("click",function(){return confirm("Вы действительно хотите удалить этот элемент, это может привести к нарушению целостности системы! Удалить?")});var ac=$('[name="parent_state"]').val(),s=$(".category_select").find("option"),a=$(".name_input").val();s.each(function(ad){if(ac==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}if(a==$(this).text()){$(this).attr("disabled",true)}});var F=$('[name="brand_state"]').val(),v=$('[name="supplier_state"]').val(),p=$('[name="catalog_state"]').val(),N=$(".supplier_select").find("option"),P=$(".brand_select").find("option"),aa=s;P.each(function(){if(F==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});aa.each(function(){if(p==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});N.each(function(){if(v==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});$(".hide_row").addClass("text-muted").find("a").css("opacity",0.4).end().find(".show-hide").html('<span class="glyphicon glyphicon glyphicon-eye-open"></span> Показать');var H=$(".form_wrap").find('[type="file"]').val(""),T=$(".excel-file-button").attr("disabled",true);H.on("change",function(){if($(this).val().indexOf(".xls")>0||$(this).val().indexOf(".xlsx")>0){u()}else{T.attr("disabled",true)}});function u(){T.attr("disabled",false)}var W=$(".img-file-button").attr("disabled",true);H.on("change",function(){if($(this).val().indexOf(".png")>0||$(this).val().indexOf(".jpeg")>0||$(this).val().indexOf(".jpg")>0){o()}else{W.attr("disabled",true)}});function o(){W.attr("disabled",false)}if(location.href.indexOf("q")>0){var r=window.location.href;var V=r.slice(r.indexOf("=")+1,r.length);var I=decodeURIComponent(V).replace(/\+/g," ");$(".search-input").val(I)}var D=$(".filter-criteria");(function(){var ad=D.find("a"),ae=[];if(ad.length<2){return}ad.each(function(){ae.reverse(ae.push($(this).data("link")))}).each(function(af){$(this).attr("href",$(this).attr("href")+"/"+ae[af])})})();$(".product-list").on("click",function(ad){window.location="/product";ad.preventDefault()});$(".number").attr({type:"number",min:0,step:0.01});var M=$("#product");M.find("label").wrap('<div class="form-group"></div>');var k=$("#back-to-top");$(window).scroll(function(){if($(this).scrollTop()>350){k.fadeIn()}else{k.fadeOut()}});k.on("click",function(){$("#back-to-top").tooltip("hide");$("body, html").animate({scrollTop:0},800);return false});k.tooltip("show");$(".product-price").each(function(){var ad=$(this).text().split(".");var af=!isNaN(ad[0])?parseInt(ad[0]):"",ae=!isNaN(ad[1])?parseInt(ad[1]):"";if(af&&ae){$(this).text(af+" грн. "+ae+" коп.")}else{if(af){$(this).text(af+"  грн.")}else{if(ae){$(this).text(ae+" коп.")}else{$(this).text("")}}}});var E=$("img.lazy");if(E.length>0){E.lazyload({effect:"fadeIn"})}M.on("submit",function(){var ad=M.find("textarea");if(ad.val()==""){ad.val("empty")}})});