$(function(){var K=$(".horizontal-nav a");K.hover(function(){$(this).css({color:"#563D7C"}).children().css({color:"#428BCA"})},function(){$(this).css({color:"#428BCA"}).children().css({color:"#563D7C"})});var w=["glyphicon-picture","glyphicon-pencil","glyphicon-comment","glyphicon-shopping-cart","glyphicon-earphone"];var g=$(".nav:first").find("li").find("a");g.each(function(Q){$(this).append(' <span class="glyphicon '+w[Q]+'"><span>')});$(".items").mosaic({animation:"slide"});$(".accordion").each(function(){$(this).accordion({header:$(this).children("h3"),active:false,collapsible:true,heightStyle:"content"})});var J=$("#auth_btn");J.attr("disabled",true);var c=/^[\w\.=-]+@[\w\.-]+\.[\w]{2,6}$/i,i=/^[a-zA-z]{1}[a-zA-Z1-9]{7,20}$/i;var m=false,r=false;var E=$("#identity"),M=$("#credential");E.on("keyup",function(){var Q=$(this).val();m=c.test(Q);if(m){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}z()});M.on("keyup",function(){var Q=$(this).val();r=i.test(Q);if(r){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}z()});function z(){if(m==true&&r==true){J.attr("disabled",false)}else{J.attr("disabled",true)}}var O=$(".register_form");O.find("label").eq(0).attr("for","email").next().attr({id:"email",type:"email",placeholder:"Введите Email"});O.find("label").eq(1).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});O.find("label").eq(2).attr("for","passwordVerify").next().attr({id:"passwordVerify",placeholder:"Повторите Пароль"});var H=O.find("button");H.attr("disabled",true);var u=false,p=false;var v=$("#password");var G=$("#passwordVerify");$("#email").on("keyup",function(){var Q=$(this).val();u=c.test(Q);if(u){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}s()});v.on("keyup",function(){var Q=$(this).val();p=i.test(Q);if(p){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}s()});G.on("keyup",function(){if(p&&v.val()==G.val()){$(this).css("border","1px solid green");v.css("border","1px solid green")}else{$(this).css("border","1px solid red");v.css("border","1px solid red")}s()});function s(){if(u==true&&p==true&&v.val()==G.val()){H.attr("disabled",false)}else{H.attr("disabled",true)}}$("form").find("ul").addClass("list-unstyled").find("li").css({color:"#cc0000",background:"#FFDD7A"}).prepend('<span class="glyphicon glyphicon glyphicon-ban-circle"></span> ');$(".logout").on("click",function(){confirm("Вы действительно хотите выйти из системы?")});$('[data-toggle="tooltip"]').tooltip({animation:true});$(".back").on("click",function(){history.back()});$(".warning").on("click",function(){return confirm("Вы действительно хотите удалить этот элемент, это может привести к нарушению целостности системы! Удалить?")});var P=$('[name="parent_state"]').val(),n=$(".category_select").find("option"),a=$(".name_input").val();n.each(function(Q){if(P==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}if(a==$(this).text()){$(this).attr("disabled",true)}});var x=$('[name="brand_state"]').val(),l=$('[name="catalog_state"]').val(),F=$(".brand_select").find("option"),N=n;F.each(function(){if(x==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});N.each(function(){if(l==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});$(".hide_row").addClass("text-muted").find("a").css("opacity",0.4).end().find(".show-hide").html('<span class="glyphicon glyphicon glyphicon-eye-open"></span> Показать');var y=$(".form_wrap").find('[type="file"]').val(""),I=$(".excel-file-button").attr("disabled",true);y.on("change",function(){if($(this).val().indexOf(".xls")>0||$(this).val().indexOf(".xlsx")>0){o()}else{I.attr("disabled",true)}});function o(){I.attr("disabled",false)}var L=$(".img-file-button").attr("disabled",true);y.on("change",function(){if($(this).val().indexOf(".png")>0||$(this).val().indexOf(".jpeg")>0||$(this).val().indexOf(".jpg")>0){j()}else{L.attr("disabled",true)}});function j(){L.attr("disabled",false)}var f=window.location.search,D=$(".brand-link"),q=$(".catalog-link");if(f.indexOf("brand")!=-1){q.each(function(S){var V=f.slice(1,f.length)+"&";var Q=$(this).attr("href");var U=Q.slice(0,Q.indexOf("?")+1);var R=Q.slice(Q.indexOf("?")+1,Q.length);var T=U+V+R;$(this).attr("href",T)})}if(f.indexOf("catalog")!=-1){D.each(function(Q){$(this).attr("href",($(this).attr("href")+"&"+f.slice(1,f.length)))})}if(f.indexOf("brand")>0&&f.indexOf("catalog")>0){D.each(function(S){var Q=$(this).attr("href");var T=Q.slice(0,Q.indexOf("&"));var R=Q.slice(Q.lastIndexOf("&"),Q.length);$(this).attr("href",T+R)});q.each(function(){var Q=$(this).attr("href");var S=Q.slice(0,Q.indexOf("&"));var R=Q.slice(Q.lastIndexOf("&"),Q.length);$(this).attr("href",S+R)})}var C=$(".link-type").data("type");if(C!=""&&C!==undefined){D.each(function(S){var Q=$(this).attr("href");var R=Q.slice(Q.lastIndexOf("/"),Q.length);$(this).attr("href","/"+C+R)});q.each(function(){var Q=$(this).attr("href");var R=Q.slice(Q.lastIndexOf("/"),Q.length);$(this).attr("href","/"+C+R)})}var b=$(".first-page");b.on("click",function(T){var Q=window.location.href;if(f.indexOf("brand")>0||f.indexOf("catalog")>0){var S=Q.slice(0,Q.lastIndexOf("/")+1);var R=Q.slice(Q.indexOf("?"),Q.length);window.location=S+"1"+R;T.preventDefault()}});var d=$(".breadcrumb");d.find("a").on("click",function(S){var Q=window.location.href;var R=Q.slice(0,Q.lastIndexOf("/")+1);window.location=R+$(this).attr("href");S.preventDefault()});$(".product-list").on("click",function(Q){window.location="/product";Q.preventDefault()});if(f.indexOf("brand")==-1&&f.indexOf("catalog")==-1){d.css("visibility","hidden")}if($("#productList-table").length>0){d.css("visibility","visible")}else{$("#redirect-form").css("display","none")}$(".number").attr({type:"number",min:0,step:0.01});var B=$("#product");B.find("label").wrap('<div class="form-group"></div>');var h=$("#back-to-top");$(window).scroll(function(){if($(this).scrollTop()>350){h.fadeIn()}else{h.fadeOut()}});h.on("click",function(){$("#back-to-top").tooltip("hide");$("body, html").animate({scrollTop:0},800);return false});h.tooltip("show");var t=$(".product-price"),e=t.text().split(".");var A=parseInt(e[0]),k=parseInt(e[1]);if(A){t.text(A+" грн. "+k+" коп.")}else{t.text(k+" коп.")}$("img.lazy").lazyload({effect:"fadeIn"});$("#product-holder").masonry({itemSelector:".product",singleMode:true});B.on("submit",function(){var Q=B.find("textarea");if(Q.val()==""){Q.val("empty")}})});