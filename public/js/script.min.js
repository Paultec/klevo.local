$(function(){var J=$(".horizontal-nav a");J.hover(function(){$(this).css({color:"#563D7C"}).children().css({color:"#428BCA"})},function(){$(this).css({color:"#428BCA"}).children().css({color:"#563D7C"})});var w=["glyphicon-picture","glyphicon-pencil","glyphicon-comment","glyphicon-shopping-cart","glyphicon-earphone"];var g=$(".nav:first").find("li").find("a");g.each(function(P){$(this).append(' <span class="glyphicon '+w[P]+'"><span>')});$(".items").mosaic({animation:"slide"});$(".accordion").each(function(){$(this).accordion({header:$(this).children("h3"),active:false,collapsible:true,heightStyle:"content"})});var I=$("#auth_btn");I.attr("disabled",true);var c=/^[\w\.=-]+@[\w\.-]+\.[\w]{2,6}$/i,i=/^[a-zA-z]{1}[a-zA-Z1-9]{7,20}$/i;var m=false,r=false;var D=$("#identity"),L=$("#credential");D.on("keyup",function(){var P=$(this).val();m=c.test(P);if(m){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}z()});L.on("keyup",function(){var P=$(this).val();r=i.test(P);if(r){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}z()});function z(){if(m==true&&r==true){I.attr("disabled",false)}else{I.attr("disabled",true)}}var N=$(".register_form");N.find("label").eq(0).attr("for","email").next().attr({id:"email",type:"email",placeholder:"Введите Email"});N.find("label").eq(1).attr("for","password").next().attr({id:"password",placeholder:"Введите Пароль"});N.find("label").eq(2).attr("for","passwordVerify").next().attr({id:"passwordVerify",placeholder:"Повторите Пароль"});var G=N.find("button");G.attr("disabled",true);var u=false,p=false;var v=$("#password");var F=$("#passwordVerify");$("#email").on("keyup",function(){var P=$(this).val();u=c.test(P);if(u){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}s()});v.on("keyup",function(){var P=$(this).val();p=i.test(P);if(p){$(this).css("border","1px solid green")}else{$(this).css("border","1px solid red")}s()});F.on("keyup",function(){if(p&&v.val()==F.val()){$(this).css("border","1px solid green");v.css("border","1px solid green")}else{$(this).css("border","1px solid red");v.css("border","1px solid red")}s()});function s(){if(u==true&&p==true&&v.val()==F.val()){G.attr("disabled",false)}else{G.attr("disabled",true)}}$("form").find("ul").addClass("list-unstyled").find("li").css({color:"#cc0000",background:"#FFDD7A"}).prepend('<span class="glyphicon glyphicon glyphicon-ban-circle"></span> ');$(".logout").on("click",function(){confirm("Вы действительно хотите выйти из системы?")});$('[data-toggle="tooltip"]').tooltip({animation:true});$(".back").on("click",function(){history.back()});$(".warning").on("click",function(){return confirm("Вы действительно хотите удалить этот элемент, это может привести к нарушению целостности системы! Удалить?")});var O=$('[name="parent_state"]').val(),n=$(".category_select").find("option"),a=$(".name_input").val();n.each(function(P){if(O==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}if(a==$(this).text()){$(this).attr("disabled",true)}});var x=$('[name="brand_state"]').val(),l=$('[name="catalog_state"]').val(),E=$(".brand_select").find("option"),M=n;E.each(function(){if(x==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});M.each(function(){if(l==$(this).val()){$(this).css("color","#428BCA").attr("selected",true)}});$(".hide_row").addClass("text-muted").find("a").css("opacity",0.4).end().find(".show-hide").html('<span class="glyphicon glyphicon glyphicon-eye-open"></span> Показать');var y=$(".form_wrap").find('[type="file"]').val(""),H=$(".excel-file-button").attr("disabled",true);y.on("change",function(){if($(this).val().indexOf(".xls")>0||$(this).val().indexOf(".xlsx")>0){o()}else{H.attr("disabled",true)}});function o(){H.attr("disabled",false)}var K=$(".img-file-button").attr("disabled",true);y.on("change",function(){if($(this).val().indexOf(".png")>0||$(this).val().indexOf(".jpeg")>0||$(this).val().indexOf(".jpg")>0){j()}else{K.attr("disabled",true)}});function j(){K.attr("disabled",false)}var f=window.location.search,C=$(".brand-link"),q=$(".catalog-link");if(f.indexOf("brand")!=-1){q.each(function(R){var U=f.slice(1,f.length)+"&";var P=$(this).attr("href");var T=P.slice(0,P.indexOf("?")+1);var Q=P.slice(P.indexOf("?")+1,P.length);var S=T+U+Q;$(this).attr("href",S)})}if(f.indexOf("catalog")!=-1){C.each(function(P){$(this).attr("href",($(this).attr("href")+"&"+f.slice(1,f.length)))})}if(f.indexOf("brand")>0&&f.indexOf("catalog")>0){C.each(function(R){var P=$(this).attr("href");var S=P.slice(0,P.indexOf("&"));var Q=P.slice(P.lastIndexOf("&"),P.length);$(this).attr("href",S+Q)});q.each(function(){var P=$(this).attr("href");var R=P.slice(0,P.indexOf("&"));var Q=P.slice(P.lastIndexOf("&"),P.length);$(this).attr("href",R+Q)})}var B=$(".link-type").data("type");if(B!=""&&B!==undefined){C.each(function(R){var P=$(this).attr("href");var Q=P.slice(P.lastIndexOf("/"),P.length);$(this).attr("href","/"+B+Q)});q.each(function(){var P=$(this).attr("href");var Q=P.slice(P.lastIndexOf("/"),P.length);$(this).attr("href","/"+B+Q)})}var b=$(".first-page");b.on("click",function(S){var P=window.location.href;if(f.indexOf("brand")>0||f.indexOf("catalog")>0){var R=P.slice(0,P.lastIndexOf("/")+1);var Q=P.slice(P.indexOf("?"),P.length);window.location=R+"1"+Q;S.preventDefault()}});var d=$(".breadcrumb");d.find("a").on("click",function(R){var P=window.location.href;var Q=P.slice(0,P.lastIndexOf("/")+1);window.location=Q+$(this).attr("href");R.preventDefault()});$(".product-list").on("click",function(P){window.location="/product";P.preventDefault()});if(f.indexOf("brand")==-1&&f.indexOf("catalog")==-1){d.css("visibility","hidden")}if($("#productList-table").length>0){d.css("visibility","visible")}else{$("#redirect-form").css("display","none")}$(".number").attr({type:"number",min:0,step:0.01});$("#product").find("label").wrap('<div class="form-group"></div>');$("img.lazy").lazyload({effect:"fadeIn"});var h=$("#back-to-top");$(window).scroll(function(){if($(this).scrollTop()>350){h.fadeIn()}else{h.fadeOut()}});h.on("click",function(){$("#back-to-top").tooltip("hide");$("body, html").animate({scrollTop:0},800);return false});h.tooltip("show");var t=$(".product-price"),e=t.text().split(".");var A=parseInt(e[0]),k=parseInt(e[1]);if(A){t.text(A+" грн. "+k+" коп.")}else{t.text(k+" коп.")}});